{"version":3,"file":"bs-daterangepicker-container.component.js","sourceRoot":"","sources":["../../../../../../src/datepicker/themes/bs/bs-daterangepicker-container.component.ts","../../../../../../src/datepicker/themes/bs/bs-datepicker-view.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, ElementRef, EventEmitter, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\n\r\nimport { take } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { getFullYear, getMonth } from 'ngx-bootstrap/chronos';\r\nimport { PositioningService } from 'ngx-bootstrap/positioning';\r\n\r\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { CalendarCellViewModel, DayViewModel } from '../../models';\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\nimport { datepickerAnimation } from '../../datepicker-animations';\r\nimport { BsCustomDates } from './bs-custom-dates-view.component';\r\n\r\n@Component({\r\n  selector: 'bs-daterangepicker-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  templateUrl: './bs-datepicker-view.html',\r\n  host: {\r\n    class: 'bottom',\r\n    '(click)': '_stopPropagation($event)',\r\n    role: 'dialog',\r\n    'aria-label': 'calendar'\r\n  },\r\n  animations: [datepickerAnimation]\r\n})\r\nexport class BsDaterangepickerContainerComponent extends BsDatepickerAbstractComponent\r\n  implements OnInit, OnDestroy {\r\n  set value(value: Date[]) {\r\n    this._effects.setRangeValue(value);\r\n  }\r\n\r\n  valueChange = new EventEmitter<Date[]>();\r\n  animationState = 'void';\r\n\r\n  _rangeStack: Date[] = [];\r\n  chosenRange: Date[] = [];\r\n  _subs: Subscription[] = [];\r\n\r\n  constructor(\r\n    _renderer: Renderer2,\r\n    private _config: BsDatepickerConfig,\r\n    private _store: BsDatepickerStore,\r\n    private _element: ElementRef,\r\n    private _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects,\r\n    private _positionService: PositioningService\r\n  ) {\r\n    super();\r\n    this._effects = _effects;\r\n\r\n    this.customRanges = this._config.ranges;\r\n    this.customRangeBtnLbl = this._config.customRangeButtonLabel;\r\n\r\n    _renderer.setStyle(_element.nativeElement, 'display', 'block');\r\n    _renderer.setStyle(_element.nativeElement, 'position', 'absolute');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._positionService.setOptions({\r\n      modifiers: { flip: { enabled: this._config.adaptivePosition } },\r\n      allowedPositions: ['top', 'bottom']\r\n    });\r\n\r\n    this._positionService.event$\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(() => {\r\n        this._positionService.disable();\r\n\r\n        if (this._config.isAnimated) {\r\n          this.animationState = this.isTopPosition ? 'animated-up' : 'animated-down';\r\n\r\n          return;\r\n        }\r\n\r\n        this.animationState = 'unanimated';\r\n      });\r\n    this.containerClass = this._config.containerClass;\r\n    this.isOtherMonthsActive = this._config.selectFromOtherMonth;\r\n    this._effects\r\n      .init(this._store)\r\n      // intial state options\r\n      // todo: fix this, split configs\r\n      .setOptions(this._config)\r\n      // data binding view --> model\r\n      .setBindings(this)\r\n      // set event handlers\r\n      .setEventHandlers(this)\r\n      .registerDatepickerSideEffects();\r\n\r\n    // todo: move it somewhere else\r\n    // on selected date change\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedRange)\r\n        .subscribe(date => {\r\n          this.valueChange.emit(date);\r\n          this.chosenRange = date;\r\n        })\r\n    );\r\n  }\r\n\r\n  get isTopPosition(): boolean {\r\n    return this._element.nativeElement.classList.contains('top');\r\n  }\r\n\r\n  positionServiceEnable(): void {\r\n    this._positionService.enable();\r\n  }\r\n\r\n  daySelectHandler(day: DayViewModel): void {\r\n    if (!day) {\r\n      return;\r\n    }\r\n    const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\r\n\r\n    if (isDisabled) {\r\n      return;\r\n    }\r\n    this.rangesProcessing(day);\r\n  }\r\n\r\n  monthSelectHandler(day: CalendarCellViewModel): void {\r\n    if (!day) {\r\n      return;\r\n    }\r\n\r\n    day.isSelected = true;\r\n\r\n    if (this._config.minMode !== 'month') {\r\n      if (day.isDisabled) {\r\n        return;\r\n      }\r\n      this._store.dispatch(\r\n        this._actions.navigateTo({\r\n          unit: {\r\n            month: getMonth(day.date),\r\n            year: getFullYear(day.date)\r\n          },\r\n          viewMode: 'day'\r\n        })\r\n      );\r\n\r\n      return;\r\n    }\r\n    this.rangesProcessing(day);\r\n  }\r\n\r\n  yearSelectHandler(day: CalendarCellViewModel): void {\r\n    if (!day) {\r\n      return;\r\n    }\r\n\r\n    day.isSelected = true;\r\n\r\n    if (this._config.minMode !== 'year') {\r\n      if (day.isDisabled) {\r\n        return;\r\n      }\r\n      this._store.dispatch(\r\n        this._actions.navigateTo({\r\n          unit: {\r\n            year: getFullYear(day.date)\r\n          },\r\n          viewMode: 'month'\r\n        })\r\n      );\r\n\r\n      return;\r\n    }\r\n    this.rangesProcessing(day);\r\n  }\r\n\r\n  rangesProcessing(day: CalendarCellViewModel): void {\r\n    // if only one date is already selected\r\n    // and user clicks on previous date\r\n    // start selection from new date\r\n    // but if new date is after initial one\r\n    // than finish selection\r\n\r\n    if (this._rangeStack.length === 1) {\r\n      this._rangeStack =\r\n        day.date >= this._rangeStack[0]\r\n          ? [this._rangeStack[0], day.date]\r\n          :  [day.date];\r\n    }\r\n\r\n    if (this._rangeStack.length === 0) {\r\n      this._rangeStack = [day.date];\r\n\r\n      if (this._config.maxDateRange) {\r\n        this.setMaxDateRangeOnCalendar(day.date);\r\n      }\r\n    }\r\n\r\n    this._store.dispatch(this._actions.selectRange(this._rangeStack));\r\n\r\n    if (this._rangeStack.length === 2) {\r\n      this._rangeStack = [];\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._effects.destroy();\r\n  }\r\n\r\n  setRangeOnCalendar(dates: BsCustomDates): void {\r\n    this._rangeStack = (dates === null) ? [] : (dates.value instanceof Date ? [dates.value] : dates.value);\r\n    this._store.dispatch(this._actions.selectRange(this._rangeStack));\r\n  }\r\n\r\n  setMaxDateRangeOnCalendar(currentSelection: Date): void {\r\n    const maxDateRange = new Date(currentSelection);\r\n    maxDateRange.setDate(currentSelection.getDate() + this._config.maxDateRange);\r\n    this._effects.setMaxDate(maxDateRange);\r\n  }\r\n\r\n}\r\n","<!-- days calendar view mode -->\r\n<div class=\"bs-datepicker\" [ngClass]=\"containerClass\" *ngIf=\"viewMode | async\">\r\n  <div class=\"bs-datepicker-container\"\r\n    [@datepickerAnimation]=\"animationState\"\r\n    (@datepickerAnimation.done)=\"positionServiceEnable()\">\r\n    <!--calendars-->\r\n    <div class=\"bs-calendar-container\" [ngSwitch]=\"viewMode | async\" role=\"application\">\r\n      <!--days calendar-->\r\n      <div *ngSwitchCase=\"'day'\" class=\"bs-media-container\">\r\n        <bs-days-calendar-view\r\n          *ngFor=\"let calendar of daysCalendar | async\"\r\n          [class.bs-datepicker-multiple]=\"(daysCalendar | async)?.length > 1\"\r\n          [calendar]=\"calendar\"\r\n          [options]=\"options | async\"\r\n          (onNavigate)=\"navigateTo($event)\"\r\n          (onViewMode)=\"setViewMode($event)\"\r\n          (onHover)=\"dayHoverHandler($event)\"\r\n          (onHoverWeek)=\"weekHoverHandler($event)\"\r\n          (onSelect)=\"daySelectHandler($event)\">\r\n        </bs-days-calendar-view>\r\n      </div>\r\n\r\n      <!--months calendar-->\r\n      <div *ngSwitchCase=\"'month'\" class=\"bs-media-container\">\r\n        <bs-month-calendar-view\r\n          *ngFor=\"let calendar of monthsCalendar | async\"\r\n          [class.bs-datepicker-multiple]=\"(daysCalendar | async)?.length > 1\"\r\n          [calendar]=\"calendar\"\r\n          (onNavigate)=\"navigateTo($event)\"\r\n          (onViewMode)=\"setViewMode($event)\"\r\n          (onHover)=\"monthHoverHandler($event)\"\r\n          (onSelect)=\"monthSelectHandler($event)\">\r\n        </bs-month-calendar-view>\r\n      </div>\r\n\r\n      <!--years calendar-->\r\n      <div *ngSwitchCase=\"'year'\" class=\"bs-media-container\">\r\n        <bs-years-calendar-view\r\n          *ngFor=\"let calendar of yearsCalendar | async\"\r\n          [class.bs-datepicker-multiple]=\"(daysCalendar | async)?.length > 1\"\r\n          [calendar]=\"calendar\"\r\n          (onNavigate)=\"navigateTo($event)\"\r\n          (onViewMode)=\"setViewMode($event)\"\r\n          (onHover)=\"yearHoverHandler($event)\"\r\n          (onSelect)=\"yearSelectHandler($event)\">\r\n        </bs-years-calendar-view>\r\n      </div>\r\n    </div>\r\n\r\n    <!--applycancel buttons-->\r\n    <div class=\"bs-datepicker-buttons\" *ngIf=\"false\">\r\n      <button class=\"btn btn-success\" type=\"button\">Apply</button>\r\n      <button class=\"btn btn-default\" type=\"button\">Cancel</button>\r\n    </div>\r\n\r\n    <div class=\"bs-datepicker-buttons\" *ngIf=\"showTodayBtn || showClearBtn\">\r\n      <div class=\"btn-today-wrapper\"\r\n           [class.today-left]=\"todayPos === 'left'\"\r\n           [class.today-right]=\"todayPos === 'right'\"\r\n           [class.today-center]=\"todayPos === 'center'\"\r\n           *ngIf=\"showTodayBtn\">\r\n        <button class=\"btn btn-success\" (click)=\"setToday()\">{{todayBtnLbl}}</button>\r\n      </div>\r\n\r\n        <div class=\"btn-clear-wrapper\"\r\n        [class.clear-left]=\"clearPos === 'left'\"\r\n        [class.clear-right]=\"clearPos === 'right'\"\r\n        [class.clear-center]=\"clearPos === 'center'\"\r\n        *ngIf=\"showClearBtn\">\r\n          <button class=\"btn btn-success\" (click)=\"clearDate()\">{{clearBtnLbl}}</button>\r\n        </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!--custom dates or date ranges picker-->\r\n  <div class=\"bs-datepicker-custom-range\" *ngIf=\"customRanges?.length > 0\">\r\n    <bs-custom-date-view\r\n      [selectedRange]=\"chosenRange\"\r\n      [ranges]=\"customRanges\"\r\n      [customRangeLabel]=\"customRangeBtnLbl\"\r\n      (onSelect)=\"setRangeOnCalendar($event)\">\r\n    </bs-custom-date-view>\r\n  </div>\r\n</div>\r\n"]}