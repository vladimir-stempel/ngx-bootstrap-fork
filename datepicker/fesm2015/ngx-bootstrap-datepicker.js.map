{"version":3,"file":"ngx-bootstrap-datepicker.js","sources":["../../../../src/datepicker/bs-datepicker.config.ts","../../../../src/datepicker/datepicker-animations.ts","../../../../src/datepicker/base/bs-datepicker-container.ts","../../../../src/datepicker/reducer/bs-datepicker.actions.ts","../../../../src/datepicker/bs-locale.service.ts","../../../../src/datepicker/reducer/bs-datepicker.effects.ts","../../../../src/datepicker/reducer/_defaults.ts","../../../../src/datepicker/reducer/bs-datepicker.state.ts","../../../../src/datepicker/utils/bs-calendar-utils.ts","../../../../src/datepicker/utils/matrix-utils.ts","../../../../src/datepicker/engine/calc-days-calendar.ts","../../../../src/datepicker/engine/format-days-calendar.ts","../../../../src/datepicker/engine/flag-days-calendar.ts","../../../../src/datepicker/engine/view-mode.ts","../../../../src/datepicker/engine/format-months-calendar.ts","../../../../src/datepicker/engine/flag-months-calendar.ts","../../../../src/datepicker/engine/format-years-calendar.ts","../../../../src/datepicker/engine/flag-years-calendar.ts","../../../../src/datepicker/reducer/bs-datepicker.reducer.ts","../../../../src/datepicker/reducer/bs-datepicker.store.ts","../../../../src/datepicker/models/index.ts","../../../../src/datepicker/themes/bs/bs-current-date-view.component.ts","../../../../src/datepicker/themes/bs/bs-timepicker-view.component.ts","../../../../src/datepicker/themes/bs/bs-calendar-layout.component.ts","../../../../src/datepicker/themes/bs/bs-datepicker-navigation-view.component.ts","../../../../src/datepicker/themes/bs/bs-datepicker-day-decorator.directive.ts","../../../../src/datepicker/themes/bs/bs-days-calendar-view.component.ts","../../../../src/datepicker/themes/bs/bs-months-calendar-view.component.ts","../../../../src/datepicker/themes/bs/bs-years-calendar-view.component.ts","../../../../src/datepicker/themes/bs/bs-custom-dates-view.component.ts","../../../../src/datepicker/themes/bs/bs-datepicker-view.html","../../../../src/datepicker/themes/bs/bs-datepicker-container.component.ts","../../../../src/datepicker/bs-datepicker.component.ts","../../../../src/datepicker/bs-datepicker-inline.config.ts","../../../../src/datepicker/themes/bs/bs-datepicker-inline-container.component.ts","../../../../src/datepicker/bs-datepicker-inline.component.ts","../../../../src/datepicker/bs-daterangepicker-inline.config.ts","../../../../src/datepicker/themes/bs/bs-daterangepicker-container.component.ts","../../../../src/datepicker/themes/bs/bs-daterangepicker-inline-container.component.ts","../../../../src/datepicker/bs-daterangepicker-inline.component.ts","../../../../src/datepicker/bs-datepicker-input.directive.ts","../../../../src/datepicker/bs-daterangepicker.config.ts","../../../../src/datepicker/bs-daterangepicker.component.ts","../../../../src/datepicker/bs-daterangepicker-input.directive.ts","../../../../src/datepicker/date-formatter.ts","../../../../src/datepicker/datepicker-inner.component.ts","../../../../src/datepicker/datepicker.config.ts","../../../../src/datepicker/daypicker.component.ts","../../../../src/datepicker/monthpicker.component.ts","../../../../src/datepicker/yearpicker.component.ts","../../../../src/datepicker/datepicker.component.ts","../../../../src/datepicker/bs-datepicker.module.ts","../../../../src/datepicker/datepicker.module.ts","../../../../src/datepicker/ngx-bootstrap-datepicker.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {\r\n  DatepickerRenderOptions,\r\n  BsDatepickerViewMode,\r\n  DatepickerDateCustomClasses,\r\n  DatepickerDateTooltipText\r\n} from './models';\r\nimport { BsCustomDates } from './themes/bs/bs-custom-dates-view.component';\r\n\r\n\r\n/**\r\n * For date range picker there are `BsDaterangepickerConfig` which inherits all properties,\r\n * except `displayMonths`, for range picker it default to `2`\r\n */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BsDatepickerConfig implements DatepickerRenderOptions {\r\n  /** sets use adaptive position */\r\n  adaptivePosition = false;\r\n  /** sets use UTC date time format */\r\n  useUtc = false;\r\n  /** turn on/off animation */\r\n  isAnimated = false;\r\n  value?: Date | Date[];\r\n  isDisabled?: boolean;\r\n  /**\r\n   * Default min date for all date/range pickers\r\n   */\r\n  minDate?: Date;\r\n  /**\r\n   * Default max date for all date/range pickers\r\n   */\r\n  maxDate?: Date;\r\n  /**\r\n   * The view that the datepicker should start in\r\n   */\r\n  startView: BsDatepickerViewMode = 'day';\r\n  /**\r\n   * Default date custom classes for all date/range pickers\r\n   */\r\n  dateCustomClasses: DatepickerDateCustomClasses[];\r\n  /**\r\n   * Default tooltip text for all date/range pickers\r\n   */\r\n  dateTooltipTexts?: DatepickerDateTooltipText[];\r\n  /**\r\n   * Disable specific days, e.g. [0,6] will disable all Saturdays and Sundays\r\n   */\r\n  daysDisabled?: number[];\r\n  /**\r\n   * Disable specific dates\r\n   */\r\n  datesDisabled?: Date[];\r\n  /**\r\n   * Show one months for special cases (only for dateRangePicker)\r\n   * 1. maxDate is equal to today's date\r\n   * 2. minDate's month is equal to maxDate's month\r\n   */\r\n  displayOneMonthRange?: boolean;\r\n  /**\r\n   * Enable specific dates\r\n   */\r\n  datesEnabled?: Date[];\r\n  /**\r\n   * Makes dates from other months active\r\n   */\r\n  selectFromOtherMonth?: boolean;\r\n\r\n  /**\r\n   * Allows select first date of the week by click on week number\r\n   */\r\n  selectWeek?: boolean;\r\n\r\n  /**\r\n   * Allows select daterange as first and last day of week by click on week number (dateRangePicker only)\r\n   */\r\n  selectWeekDateRange?: boolean;\r\n\r\n  /**\r\n   * Shows previous and current month, instead of current and next (dateRangePicker only)\r\n   */\r\n  showPreviousMonth?: boolean;\r\n\r\n  /**\r\n   * Prevents change to next month for right calendar in two calendars view (dateRangePicker only)\r\n   */\r\n  preventChangeToNextMonth?: boolean;\r\n\r\n  /**\r\n   * Add class to current day\r\n   */\r\n  customTodayClass?: string;\r\n\r\n  /**\r\n   * Default mode for all date pickers\r\n   */\r\n  minMode?: BsDatepickerViewMode;\r\n\r\n  /**\r\n   * If true, returns focus to the datepicker / daterangepicker input after date selection\r\n   */\r\n  returnFocusToInput = false;\r\n\r\n  /** CSS class which will be applied to datepicker container,\r\n   * usually used to set color theme\r\n   */\r\n  containerClass = 'theme-green';\r\n\r\n  // DatepickerRenderOptions\r\n  displayMonths = 1;\r\n  /**\r\n   * Allows to hide week numbers in datepicker\r\n   */\r\n  showWeekNumbers = true;\r\n\r\n  dateInputFormat = 'L';\r\n  // range picker\r\n  rangeSeparator = ' - ';\r\n  /**\r\n   * Date format for date range input field\r\n   */\r\n  rangeInputFormat = 'L';\r\n\r\n  /**\r\n   * Predefined ranges\r\n   */\r\n  ranges?: BsCustomDates[];\r\n\r\n  /**\r\n   * Max Date Range in days\r\n   */\r\n  maxDateRange?: number;\r\n\r\n  // DatepickerFormatOptions\r\n  monthTitle = 'MMMM';\r\n  yearTitle = 'YYYY';\r\n  dayLabel = 'D';\r\n  monthLabel = 'MMMM';\r\n  yearLabel = 'YYYY';\r\n  weekNumbers = 'w';\r\n\r\n  /**\r\n   * Shows 'today' button\r\n   */\r\n  showTodayButton = false;\r\n\r\n  /**\r\n   * Shows clear button\r\n   */\r\n  showClearButton = false;\r\n\r\n  /**\r\n   * Positioning of 'today' button\r\n   */\r\n  todayPosition = 'center';\r\n\r\n  /**\r\n   * Positioning of 'clear' button\r\n   */\r\n  clearPosition = 'right';\r\n\r\n  /**\r\n   * Label for 'today' button\r\n   */\r\n  todayButtonLabel = 'Today';\r\n\r\n  /**\r\n   * Label for 'clear' button\r\n   */\r\n  clearButtonLabel = 'Clear';\r\n\r\n  /**\r\n   * Label for 'custom range' button\r\n   */\r\n  customRangeButtonLabel = 'Custom Range';\r\n}\r\n","import {\r\n  animate,\r\n  style,\r\n  AnimationTriggerMetadata,\r\n  state,\r\n  transition,\r\n  trigger\r\n} from '@angular/animations';\r\n\r\nexport const DATEPICKER_ANIMATION_TIMING = '220ms cubic-bezier(0, 0, 0.2, 1)';\r\n\r\nexport const datepickerAnimation: AnimationTriggerMetadata =\r\n  trigger('datepickerAnimation', [\r\n    state('animated-down', style({ height: '*', overflow: 'hidden'})),\r\n    transition('* => animated-down', [\r\n      style({ height: 0, overflow: 'hidden' }),\r\n      animate(DATEPICKER_ANIMATION_TIMING)\r\n    ]),\r\n    state('animated-up', style({ height: '*', overflow: 'hidden'})),\r\n    transition('* => animated-up', [\r\n      style({ height: '*', overflow: 'hidden' }),\r\n      animate(DATEPICKER_ANIMATION_TIMING)\r\n    ]),\r\n    transition('* => unanimated', animate('0s'))\r\n  ]);\r\n","// datepicker container component\r\nimport { BsCustomDates } from '../themes/bs/bs-custom-dates-view.component';\r\nimport { BsDatepickerEffects } from '../reducer/bs-datepicker.effects';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationEvent,\r\n  CalendarCellViewModel,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions,\r\n  DatepickerDateCustomClasses,\r\n  DatepickerDateTooltipText,\r\n  DaysCalendarViewModel,\r\n  DayViewModel,\r\n  MonthsCalendarViewModel,\r\n  WeekViewModel,\r\n  YearsCalendarViewModel\r\n} from '../models';\r\n\r\nexport abstract class BsDatepickerAbstractComponent {\r\n  containerClass: string;\r\n  isOtherMonthsActive: boolean;\r\n  showTodayBtn: boolean;\r\n  todayBtnLbl: string;\r\n  todayPos: string;\r\n  showClearBtn: boolean;\r\n  clearBtnLbl: string;\r\n  clearPos: string;\r\n\r\n  _effects: BsDatepickerEffects;\r\n  customRanges: BsCustomDates[] = [];\r\n  customRangeBtnLbl: string;\r\n  chosenRange: Date[] = [];\r\n\r\n  set minDate(value: Date) {\r\n    this._effects.setMinDate(value);\r\n  }\r\n\r\n  set maxDate(value: Date) {\r\n    this._effects.setMaxDate(value);\r\n  }\r\n  set daysDisabled(value: number[]) {\r\n    this._effects.setDaysDisabled(value);\r\n  }\r\n  set datesDisabled(value: Date[]) {\r\n    this._effects.setDatesDisabled(value);\r\n  }\r\n\r\n  set datesEnabled(value: Date[]) {\r\n    this._effects.setDatesEnabled(value);\r\n  }\r\n\r\n  set isDisabled(value: boolean) {\r\n    this._effects.setDisabled(value);\r\n  }\r\n\r\n  set dateCustomClasses(value: DatepickerDateCustomClasses[]) {\r\n    this._effects.setDateCustomClasses(value);\r\n  }\r\n\r\n  set dateTooltipTexts(value: DatepickerDateTooltipText[]) {\r\n    this._effects.setDateTooltipTexts(value);\r\n  }\r\n\r\n  viewMode: Observable<BsDatepickerViewMode>;\r\n  daysCalendar: Observable<DaysCalendarViewModel[]>;\r\n  monthsCalendar: Observable<MonthsCalendarViewModel[]>;\r\n  yearsCalendar: Observable<YearsCalendarViewModel[]>;\r\n  options: Observable<DatepickerRenderOptions>;\r\n  // todo: valorkin fix\r\n  // eslint-disable-next-line\r\n  setViewMode(event: BsDatepickerViewMode): void {}\r\n\r\n  // eslint-disable-next-line\r\n  navigateTo(event: BsNavigationEvent): void {}\r\n\r\n  // eslint-disable-next-line\r\n  dayHoverHandler(event: CellHoverEvent): void {}\r\n\r\n  // eslint-disable-next-line\r\n  weekHoverHandler(event: WeekViewModel): void {}\r\n\r\n  // eslint-disable-next-line\r\n  monthHoverHandler(event: CellHoverEvent): void {}\r\n\r\n  // eslint-disable-next-line\r\n  yearHoverHandler(event: CellHoverEvent): void {}\r\n\r\n  // eslint-disable-next-line\r\n  daySelectHandler(day: DayViewModel): void {}\r\n\r\n  // eslint-disable-next-line\r\n  monthSelectHandler(event: CalendarCellViewModel): void {}\r\n\r\n  // eslint-disable-next-line\r\n  yearSelectHandler(event: CalendarCellViewModel): void {}\r\n\r\n  // eslint-disable-next-line\r\n  setRangeOnCalendar(dates: BsCustomDates): void {}\r\n\r\n  // eslint-disable-next-line\r\n  setToday(): void {}\r\n\r\n  // eslint-disable-next-line\r\n  clearDate(): void {}\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  _stopPropagation(event: any): void {\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { TimeUnit } from 'ngx-bootstrap/chronos';\r\nimport { Action } from 'ngx-bootstrap/mini-ngrx';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsViewNavigationEvent,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions,\r\n  DatepickerDateCustomClasses,\r\n  DatepickerDateTooltipText\r\n} from '../models';\r\n\r\n@Injectable()\r\nexport class BsDatepickerActions {\r\n  static readonly CALCULATE = '[datepicker] calculate dates matrix';\r\n  static readonly FORMAT = '[datepicker] format datepicker values';\r\n  static readonly FLAG = '[datepicker] set flags';\r\n  static readonly SELECT = '[datepicker] select date';\r\n  static readonly NAVIGATE_OFFSET = '[datepicker] shift view date';\r\n  static readonly NAVIGATE_TO = '[datepicker] change view date';\r\n  static readonly SET_OPTIONS = '[datepicker] update render options';\r\n  static readonly HOVER = '[datepicker] hover date';\r\n  static readonly CHANGE_VIEWMODE = '[datepicker] switch view mode';\r\n\r\n  static readonly SET_MIN_DATE = '[datepicker] set min date';\r\n  static readonly SET_MAX_DATE = '[datepicker] set max date';\r\n  static readonly SET_DAYSDISABLED = '[datepicker] set days disabled';\r\n  static readonly SET_DATESDISABLED = '[datepicker] set dates disabled';\r\n  static readonly SET_DATESENABLED = '[datepicker] set dates enabled';\r\n  static readonly SET_IS_DISABLED = '[datepicker] set is disabled';\r\n  static readonly SET_DATE_CUSTOM_CLASSES = '[datepicker] set date custom classes';\r\n  static readonly SET_DATE_TOOLTIP_TEXTS = '[datepicker] set date tooltip texts';\r\n  static readonly SET_LOCALE = '[datepicker] set datepicker locale';\r\n\r\n  static readonly SELECT_RANGE = '[daterangepicker] select dates range';\r\n\r\n  calculate(): Action {\r\n    return { type: BsDatepickerActions.CALCULATE };\r\n  }\r\n\r\n  format(): Action {\r\n    return { type: BsDatepickerActions.FORMAT };\r\n  }\r\n\r\n  flag(): Action {\r\n    return { type: BsDatepickerActions.FLAG };\r\n  }\r\n\r\n  select(date: Date): Action {\r\n    return {\r\n      type: BsDatepickerActions.SELECT,\r\n      payload: date\r\n    };\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): Action {\r\n    return {\r\n      type: BsDatepickerActions.CHANGE_VIEWMODE,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  navigateTo(event: BsViewNavigationEvent): Action {\r\n    return {\r\n      type: BsDatepickerActions.NAVIGATE_TO,\r\n      payload: event\r\n    };\r\n  }\r\n\r\n  navigateStep(step: TimeUnit): Action {\r\n    return {\r\n      type: BsDatepickerActions.NAVIGATE_OFFSET,\r\n      payload: step\r\n    };\r\n  }\r\n\r\n  setOptions(options: DatepickerRenderOptions): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_OPTIONS,\r\n      payload: options\r\n    };\r\n  }\r\n\r\n  // date range picker\r\n  selectRange(value: Date[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SELECT_RANGE,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  hoverDay(event: CellHoverEvent): Action {\r\n    return {\r\n      type: BsDatepickerActions.HOVER,\r\n      payload: event.isHovered ? event.cell.date : null\r\n    };\r\n  }\r\n\r\n  minDate(date: Date): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_MIN_DATE,\r\n      payload: date\r\n    };\r\n  }\r\n\r\n  maxDate(date: Date): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_MAX_DATE,\r\n      payload: date\r\n    };\r\n  }\r\n\r\n  daysDisabled(days: number[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_DAYSDISABLED,\r\n      payload: days\r\n    };\r\n  }\r\n\r\n  datesDisabled(dates: Date[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_DATESDISABLED,\r\n      payload: dates\r\n    };\r\n  }\r\n\r\n  datesEnabled(dates: Date[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_DATESENABLED,\r\n      payload: dates\r\n    };\r\n  }\r\n\r\n  isDisabled(value: boolean): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_IS_DISABLED,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  setDateCustomClasses(value: DatepickerDateCustomClasses[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_DATE_CUSTOM_CLASSES,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  setDateTooltipTexts(value: DatepickerDateTooltipText[]): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_DATE_TOOLTIP_TEXTS,\r\n      payload: value\r\n    };\r\n  }\r\n\r\n  setLocale(locale: string): Action {\r\n    return {\r\n      type: BsDatepickerActions.SET_LOCALE,\r\n      payload: locale\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class BsLocaleService {\r\n  private _defaultLocale = 'en';\r\n  private _locale = new BehaviorSubject<string>(this._defaultLocale);\r\n  private _localeChange: Observable<string> = this._locale.asObservable();\r\n\r\n  get locale(): BehaviorSubject<string> {\r\n    return this._locale;\r\n  }\r\n\r\n  get localeChange(): Observable<string> {\r\n    return this._localeChange;\r\n  }\r\n\r\n  get currentLocale(): string {\r\n    return this._locale.getValue();\r\n  }\r\n\r\n  use(locale: string): void {\r\n    if (locale === this.currentLocale) {\r\n      return;\r\n    }\r\n\r\n    this._locale.next(locale);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { BsDatepickerAbstractComponent } from '../base/bs-datepicker-container';\r\nimport { BsDatepickerActions } from './bs-datepicker.actions';\r\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\r\nimport { BsDatepickerStore } from './bs-datepicker.store';\r\nimport { BsLocaleService } from '../bs-locale.service';\r\n\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationEvent,\r\n  CellHoverEvent,\r\n  DatepickerRenderOptions,\r\n  DatepickerDateCustomClasses,\r\n  DatepickerDateTooltipText,\r\n  DaysCalendarViewModel,\r\n  DayViewModel,\r\n  MonthsCalendarViewModel,\r\n  YearsCalendarViewModel\r\n} from '../models';\r\n\r\n\r\n@Injectable()\r\nexport class BsDatepickerEffects {\r\n  viewMode: Observable<BsDatepickerViewMode>;\r\n  daysCalendar: Observable<DaysCalendarViewModel[]>;\r\n  monthsCalendar: Observable<MonthsCalendarViewModel[]>;\r\n  yearsCalendar: Observable<YearsCalendarViewModel[]>;\r\n  options: Observable<DatepickerRenderOptions>;\r\n\r\n  private _store: BsDatepickerStore;\r\n  private _subs: Subscription[] = [];\r\n\r\n  constructor(private _actions: BsDatepickerActions,\r\n              private _localeService: BsLocaleService) {}\r\n\r\n  init(_bsDatepickerStore: BsDatepickerStore): BsDatepickerEffects {\r\n    this._store = _bsDatepickerStore;\r\n\r\n    return this;\r\n  }\r\n\r\n  /** setters */\r\n\r\n  setValue(value: Date): void {\r\n    this._store.dispatch(this._actions.select(value));\r\n  }\r\n\r\n  setRangeValue(value: Date[]): void {\r\n    this._store.dispatch(this._actions.selectRange(value));\r\n  }\r\n\r\n  setMinDate(value: Date): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.minDate(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setMaxDate(value: Date): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.maxDate(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDaysDisabled(value: number[]): BsDatepickerEffects  {\r\n    this._store.dispatch(this._actions.daysDisabled(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDatesDisabled(value: Date[]): BsDatepickerEffects  {\r\n    this._store.dispatch(this._actions.datesDisabled(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDatesEnabled(value: Date[]): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.datesEnabled(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDisabled(value: boolean): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.isDisabled(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDateCustomClasses(value: DatepickerDateCustomClasses[]): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.setDateCustomClasses(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  setDateTooltipTexts(value: DatepickerDateTooltipText[]): BsDatepickerEffects {\r\n    this._store.dispatch(this._actions.setDateTooltipTexts(value));\r\n\r\n    return this;\r\n  }\r\n\r\n  /* Set rendering options */\r\n  setOptions(_config: BsDatepickerConfig): BsDatepickerEffects {\r\n    const _options = Object.assign({locale: this._localeService.currentLocale}, _config);\r\n    this._store.dispatch(this._actions.setOptions(_options));\r\n\r\n    return this;\r\n  }\r\n\r\n  /** view to mode bindings */\r\n  setBindings(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\r\n    container.daysCalendar = this._store\r\n      .select(state => state.flaggedMonths)\r\n      .pipe(\r\n        filter(months => !!months)\r\n      );\r\n\r\n    // month calendar\r\n    container.monthsCalendar = this._store\r\n      .select(state => state.flaggedMonthsCalendar)\r\n      .pipe(\r\n        filter(months => !!months)\r\n      );\r\n\r\n    // year calendar\r\n    container.yearsCalendar = this._store\r\n      .select(state => state.yearsCalendarFlagged)\r\n      .pipe(\r\n        filter(years => !!years)\r\n      );\r\n\r\n    container.viewMode = this._store.select(state => state.view.mode);\r\n\r\n    container.options = this._store\r\n      .select(state => state.showWeekNumbers)\r\n      .pipe(\r\n        map(showWeekNumbers => ({showWeekNumbers}))\r\n      );\r\n\r\n    return this;\r\n  }\r\n\r\n  /** event handlers */\r\n  setEventHandlers(container: BsDatepickerAbstractComponent): BsDatepickerEffects {\r\n    container.setViewMode = (event: BsDatepickerViewMode): void => {\r\n      this._store.dispatch(this._actions.changeViewMode(event));\r\n    };\r\n\r\n    container.navigateTo = (event: BsNavigationEvent): void => {\r\n      this._store.dispatch(this._actions.navigateStep(event.step));\r\n    };\r\n\r\n    container.dayHoverHandler = (event: CellHoverEvent): void => {\r\n      const _cell = event.cell as DayViewModel;\r\n      if (_cell.isOtherMonth || _cell.isDisabled) {\r\n        return;\r\n      }\r\n\r\n      this._store.dispatch(this._actions.hoverDay(event));\r\n      _cell.isHovered = event.isHovered;\r\n    };\r\n\r\n    container.monthHoverHandler = (event: CellHoverEvent): void => {\r\n      event.cell.isHovered = event.isHovered;\r\n    };\r\n\r\n    container.yearHoverHandler = (event: CellHoverEvent): void => {\r\n      event.cell.isHovered = event.isHovered;\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  registerDatepickerSideEffects(): BsDatepickerEffects {\r\n    this._subs.push(\r\n      this._store.select(state => state.view).subscribe(() => {\r\n        this._store.dispatch(this._actions.calculate());\r\n      })\r\n    );\r\n\r\n    // format calendar values on month model change\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.monthsModel)\r\n        .pipe(\r\n          filter(monthModel => !!monthModel)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.format()))\r\n    );\r\n\r\n    // flag day values\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.formattedMonths)\r\n        .pipe(\r\n          filter(month => !!month)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // flag day values\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedDate)\r\n        .pipe(\r\n          filter(selectedDate => !!selectedDate)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // flag for date range picker\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedRange)\r\n        .pipe(\r\n          filter(selectedRange => !!selectedRange)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // monthsCalendar\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.monthsCalendar)\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // years calendar\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.yearsCalendarModel)\r\n        .pipe(\r\n          filter(state => !!state)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // on hover\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.hoveredDate)\r\n        .pipe(\r\n          filter(hoveredDate => !!hoveredDate)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // date custom classes\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.dateCustomClasses)\r\n        .pipe(\r\n          filter(dateCustomClasses => !!dateCustomClasses)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // date tooltip texts\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.dateTooltipTexts)\r\n        .pipe(\r\n          filter(dateTooltipTexts => !!dateTooltipTexts)\r\n        )\r\n        .subscribe(() => this._store.dispatch(this._actions.flag()))\r\n    );\r\n\r\n    // on locale change\r\n    this._subs.push(\r\n      this._localeService.localeChange\r\n        .subscribe(locale => this._store.dispatch(this._actions.setLocale(locale)))\r\n    );\r\n\r\n    return this;\r\n  }\r\n\r\n  destroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  MonthViewOptions\r\n} from '../models';\r\n\r\nexport const defaultMonthOptions: MonthViewOptions = {\r\n  width: 7,\r\n  height: 6\r\n};\r\n","import {\r\n  BsDatepickerViewMode,\r\n  DatepickerFormatOptions,\r\n  DatepickerRenderOptions,\r\n  DatepickerDateCustomClasses,\r\n  DatepickerDateTooltipText,\r\n  DaysCalendarModel,\r\n  DaysCalendarViewModel,\r\n  MonthsCalendarViewModel,\r\n  MonthViewOptions,\r\n  YearsCalendarViewModel\r\n} from '../models';\r\nimport { defaultMonthOptions } from './_defaults';\r\nimport { BsDatepickerConfig } from '../bs-datepicker.config';\r\n\r\nexport interface BsDatepickerViewState {\r\n  date: Date;\r\n  mode: BsDatepickerViewMode;\r\n}\r\n\r\nexport class BsDatepickerState\r\n  implements DatepickerRenderOptions, DatepickerFormatOptions {\r\n  // date picker\r\n  selectedDate?: Date;\r\n  // daterange picker\r\n  selectedRange?: Date[];\r\n\r\n  // initial date of calendar, today by default\r\n  view: BsDatepickerViewState;\r\n\r\n  isDisabled?: boolean;\r\n  // bounds\r\n  minDate?: Date;\r\n  maxDate?: Date;\r\n  daysDisabled?: number[];\r\n  datesDisabled?: Date[];\r\n  datesEnabled?: Date[];\r\n  minMode?: BsDatepickerViewMode;\r\n  dateCustomClasses?: DatepickerDateCustomClasses[];\r\n  dateTooltipTexts?: DatepickerDateTooltipText[];\r\n\r\n  hoveredDate?: Date;\r\n  hoveredMonth?: Date;\r\n  hoveredYear?: Date;\r\n\r\n  // days calendar\r\n  monthsModel?: DaysCalendarModel[];\r\n  formattedMonths?: DaysCalendarViewModel[];\r\n  flaggedMonths?: DaysCalendarViewModel[];\r\n  selectFromOtherMonth?: boolean;\r\n  showPreviousMonth?: boolean; // dateRangePicker only;\r\n  preventChangeToNextMonth?: boolean; // dateRangePicker only;\r\n  displayOneMonthRange?: boolean; // dateRangePicker only;\r\n\r\n  // months calendar\r\n  monthsCalendar?: MonthsCalendarViewModel[];\r\n  flaggedMonthsCalendar?: MonthsCalendarViewModel[];\r\n\r\n  // years calendar\r\n  yearsCalendarModel?: YearsCalendarViewModel[];\r\n  yearsCalendarFlagged?: YearsCalendarViewModel[];\r\n\r\n  // options\r\n  monthViewOptions: MonthViewOptions;\r\n\r\n  // DatepickerRenderOptions\r\n  showWeekNumbers?: boolean;\r\n  displayMonths?: number;\r\n\r\n  // DatepickerFormatOptions\r\n  locale: string;\r\n\r\n  monthTitle: string;\r\n  yearTitle: string;\r\n\r\n  dayLabel: string;\r\n  monthLabel: string;\r\n  yearLabel: string;\r\n\r\n  weekNumbers: string;\r\n}\r\n\r\nconst _initialView: BsDatepickerViewState = { date: new Date(), mode: 'day' };\r\n\r\nexport const initialDatepickerState: BsDatepickerState = Object.assign(\r\n  new BsDatepickerConfig(),\r\n  {\r\n    locale: 'en',\r\n    view: _initialView,\r\n    selectedRange: [],\r\n    monthViewOptions: defaultMonthOptions\r\n  }\r\n);\r\n","import {\r\n  getDay,\r\n  isFirstDayOfWeek,\r\n  isAfter,\r\n  isBefore,\r\n  shiftDate,\r\n  endOf,\r\n  startOf,\r\n  isArray,\r\n  isSame\r\n} from 'ngx-bootstrap/chronos';\r\nimport { BsDatepickerState } from '../reducer/bs-datepicker.state';\r\n\r\nexport function getStartingDayOfCalendar(date: Date,\r\n                                         options: { firstDayOfWeek?: number }): Date {\r\n  if (isFirstDayOfWeek(date, options.firstDayOfWeek)) {\r\n    return date;\r\n  }\r\n\r\n  const weekDay = getDay(date);\r\n  const offset = calculateDateOffset(weekDay, options.firstDayOfWeek);\r\n\r\n  return shiftDate(date, {day: -offset});\r\n}\r\n\r\nexport function calculateDateOffset(weekday: number, startingDayOffset: number): number {\r\n  if (startingDayOffset === 0) {\r\n    return weekday;\r\n  }\r\n\r\n  const offset = weekday - startingDayOffset % 7;\r\n\r\n  return offset < 0 ? offset + 7 : offset;\r\n}\r\n\r\nexport function isMonthDisabled(date: Date, min: Date, max: Date): boolean {\r\n  const minBound = min && isBefore(endOf(date, 'month'), min, 'day');\r\n  const maxBound = max && isAfter(startOf(date, 'month'), max, 'day');\r\n\r\n  return minBound || maxBound;\r\n}\r\n\r\nexport function isYearDisabled(date: Date, min: Date, max: Date): boolean {\r\n  const minBound = min && isBefore(endOf(date, 'year'), min, 'day');\r\n  const maxBound = max && isAfter(startOf(date, 'year'), max, 'day');\r\n\r\n  return minBound || maxBound;\r\n}\r\n\r\nexport function isDisabledDate(date: Date, datesDisabled: Date[]): boolean {\r\n  if (!datesDisabled  || !isArray(datesDisabled) || !datesDisabled.length) {\r\n    return false;\r\n  }\r\n\r\n  return datesDisabled.some((dateDisabled: Date) => isSame(date, dateDisabled, 'date'));\r\n}\r\n\r\nexport function isEnabledDate(date: Date, datesEnabled: Date[]): boolean {\r\n  if (!datesEnabled || !isArray(datesEnabled) || !datesEnabled.length) {\r\n    return false;\r\n  }\r\n\r\n  return !datesEnabled.some((enabledDate: Date) => isSame(date, enabledDate, 'date'));\r\n}\r\n\r\nexport function getYearsCalendarInitialDate(state: BsDatepickerState, calendarIndex = 0): Date {\r\n  const model = state && state.yearsCalendarModel && state.yearsCalendarModel[calendarIndex];\r\n\r\n  return model && model.years && model.years[0] && model.years[0][0] && model.years[0][0].date;\r\n}\r\n","import { TimeUnit, shiftDate } from 'ngx-bootstrap/chronos';\r\n\r\nexport type CreateMatrixCb<T> = (date: Date) => T;\r\n\r\nexport interface MatrixOptions {\r\n  height: number;\r\n  width: number;\r\n  initialDate: Date;\r\n  shift: TimeUnit;\r\n}\r\n\r\nexport function createMatrix<T>(\r\n  options: MatrixOptions,\r\n  fn: CreateMatrixCb<T>\r\n): T[][] {\r\n  let prevValue = options.initialDate;\r\n  const matrix: T[][] = new Array(options.height);\r\n  for (let i = 0; i < options.height; i++) {\r\n    matrix[i] = new Array(options.width);\r\n    for (let j = 0; j < options.width; j++) {\r\n      matrix[i][j] = fn(prevValue);\r\n      prevValue = shiftDate(prevValue, options.shift);\r\n    }\r\n  }\r\n\r\n  return matrix;\r\n}\r\n","// user and model input should handle parsing and validating input values\r\n// should accept some options\r\n// todo: split out formatting\r\nimport { DaysCalendarModel, MonthViewOptions } from '../models';\r\nimport { getFirstDayOfMonth } from 'ngx-bootstrap/chronos';\r\nimport { getStartingDayOfCalendar } from '../utils/bs-calendar-utils';\r\nimport { createMatrix } from '../utils/matrix-utils';\r\n\r\nexport function calcDaysCalendar(\r\n  startingDate: Date,\r\n  options: MonthViewOptions\r\n): DaysCalendarModel {\r\n  const firstDay = getFirstDayOfMonth(startingDate);\r\n  const initialDate = getStartingDayOfCalendar(firstDay, options);\r\n\r\n  const matrixOptions = {\r\n    width: options.width,\r\n    height: options.height,\r\n    initialDate,\r\n    shift: { day: 1 }\r\n  };\r\n  const daysMatrix = createMatrix<Date>(matrixOptions, date => date);\r\n\r\n  return {\r\n    daysMatrix,\r\n    month: firstDay\r\n  };\r\n}\r\n","import {\r\n  DatepickerFormatOptions,\r\n  DaysCalendarModel,\r\n  DaysCalendarViewModel\r\n} from '../models';\r\nimport { formatDate, getLocale } from 'ngx-bootstrap/chronos';\r\n\r\nexport function formatDaysCalendar(daysCalendar: DaysCalendarModel,\r\n                                   formatOptions: DatepickerFormatOptions,\r\n                                   monthIndex: number): DaysCalendarViewModel {\r\n  return {\r\n    month: daysCalendar.month,\r\n    monthTitle: formatDate(\r\n      daysCalendar.month,\r\n      formatOptions.monthTitle,\r\n      formatOptions.locale\r\n    ),\r\n    yearTitle: formatDate(\r\n      daysCalendar.month,\r\n      formatOptions.yearTitle,\r\n      formatOptions.locale\r\n    ),\r\n    weekNumbers: getWeekNumbers(\r\n      daysCalendar.daysMatrix,\r\n      formatOptions.weekNumbers,\r\n      formatOptions.locale\r\n    ),\r\n    weekdays: getShiftedWeekdays(formatOptions.locale),\r\n    weeks: daysCalendar.daysMatrix.map((week: Date[], weekIndex: number) => ({\r\n      days: week.map((date: Date, dayIndex: number) => ({\r\n        date,\r\n        label: formatDate(date, formatOptions.dayLabel, formatOptions.locale),\r\n        monthIndex,\r\n        weekIndex,\r\n        dayIndex\r\n      }))\r\n    }))\r\n  };\r\n}\r\n\r\nexport function getWeekNumbers(daysMatrix: Date[][],\r\n                               format: string,\r\n                               locale: string): string[] {\r\n  return daysMatrix.map(\r\n    (days: Date[]) => (days[0] ? formatDate(days[0], format, locale) : '')\r\n  );\r\n}\r\n\r\nexport function getShiftedWeekdays(locale: string): string[] {\r\n  const _locale = getLocale(locale);\r\n  const weekdays = _locale.weekdaysShort() as string[];\r\n  const firstDayOfWeek = _locale.firstDayOfWeek();\r\n\r\n  return [...weekdays.slice(firstDayOfWeek), ...weekdays.slice(0, firstDayOfWeek)];\r\n}\r\n","import {\r\n  DaysCalendarViewModel,\r\n  DayViewModel,\r\n  WeekViewModel,\r\n  DatepickerDateCustomClasses,\r\n  DatepickerDateTooltipText\r\n} from '../models';\r\n\r\nimport {\r\n  isAfter,\r\n  isBefore,\r\n  isDisabledDay,\r\n  isSameDay,\r\n  isSameMonth,\r\n  shiftDate\r\n} from 'ngx-bootstrap/chronos';\r\n\r\nimport { isMonthDisabled, isDisabledDate, isEnabledDate } from '../utils/bs-calendar-utils';\r\n\r\nexport interface FlagDaysCalendarOptions {\r\n  isDisabled: boolean;\r\n  minDate: Date;\r\n  maxDate: Date;\r\n  daysDisabled: number[];\r\n  datesDisabled: Date[];\r\n  datesEnabled: Date[];\r\n  hoveredDate: Date;\r\n  selectedDate: Date;\r\n  selectedRange: Date[];\r\n  displayMonths: number;\r\n  monthIndex: number;\r\n  dateCustomClasses: DatepickerDateCustomClasses[];\r\n  dateTooltipTexts: DatepickerDateTooltipText[];\r\n}\r\n\r\nexport function flagDaysCalendar(\r\n  formattedMonth: DaysCalendarViewModel,\r\n  options: FlagDaysCalendarOptions\r\n): DaysCalendarViewModel {\r\n  formattedMonth.weeks.forEach((week: WeekViewModel) => {\r\n        week.days.forEach((day: DayViewModel, dayIndex: number) => {\r\n      // datepicker\r\n      const isOtherMonth = !isSameMonth(day.date, formattedMonth.month);\r\n\r\n      const isHovered =\r\n        !isOtherMonth && isSameDay(day.date, options.hoveredDate);\r\n      // date range picker\r\n      const isSelectionStart =\r\n        !isOtherMonth &&\r\n        options.selectedRange &&\r\n        isSameDay(day.date, options.selectedRange[0]);\r\n      const isSelectionEnd =\r\n        !isOtherMonth &&\r\n        options.selectedRange &&\r\n        isSameDay(day.date, options.selectedRange[1]);\r\n\r\n      const isSelected =\r\n        (!isOtherMonth && isSameDay(day.date, options.selectedDate)) ||\r\n        isSelectionStart ||\r\n        isSelectionEnd;\r\n\r\n      const isInRange =\r\n        !isOtherMonth &&\r\n        options.selectedRange &&\r\n        isDateInRange(day.date, options.selectedRange, options.hoveredDate);\r\n\r\n      const isDisabled =\r\n        options.isDisabled ||\r\n        isBefore(day.date, options.minDate, 'day') ||\r\n        isAfter(day.date, options.maxDate, 'day') ||\r\n        isDisabledDay(day.date, options.daysDisabled) ||\r\n        isDisabledDate(day.date, options.datesDisabled) ||\r\n        isEnabledDate(day.date, options.datesEnabled);\r\n\r\n      const currentDate = new Date();\r\n      const isToday = !isOtherMonth && isSameDay(day.date, currentDate);\r\n\r\n      const customClasses = options.dateCustomClasses && options.dateCustomClasses\r\n        .map(dcc => isSameDay(day.date, dcc.date) ? dcc.classes : [])\r\n        .reduce((previousValue, currentValue) => previousValue.concat(currentValue), [])\r\n        .join(' ')\r\n        || '';\r\n\r\n      const tooltipText = options.dateTooltipTexts && options.dateTooltipTexts\r\n          .map(tt => isSameDay(day.date, tt.date) ? tt.tooltipText : '')\r\n          .reduce((previousValue, currentValue) => previousValue.concat(currentValue), [])\r\n          .join(' ')\r\n        || '';\r\n\r\n      // decide update or not\r\n      const newDay = Object.assign({}, day, {\r\n        isOtherMonth,\r\n        isHovered,\r\n        isSelected,\r\n        isSelectionStart,\r\n        isSelectionEnd,\r\n        isInRange,\r\n        isDisabled,\r\n        isToday,\r\n        customClasses,\r\n        tooltipText\r\n      });\r\n\r\n      if (\r\n        day.isOtherMonth !== newDay.isOtherMonth ||\r\n        day.isHovered !== newDay.isHovered ||\r\n        day.isSelected !== newDay.isSelected ||\r\n        day.isSelectionStart !== newDay.isSelectionStart ||\r\n        day.isSelectionEnd !== newDay.isSelectionEnd ||\r\n        day.isDisabled !== newDay.isDisabled ||\r\n        day.isInRange !== newDay.isInRange ||\r\n        day.customClasses !== newDay.customClasses ||\r\n        day.tooltipText !== newDay.tooltipText\r\n      ) {\r\n        week.days[dayIndex] = newDay;\r\n      }\r\n    });\r\n  });\r\n\r\n  // todo: add check for linked calendars\r\n  formattedMonth.hideLeftArrow =\r\n    options.isDisabled ||\r\n    (options.monthIndex > 0 && options.monthIndex !== options.displayMonths);\r\n  formattedMonth.hideRightArrow =\r\n    options.isDisabled ||\r\n    (options.monthIndex < options.displayMonths &&\r\n      options.monthIndex + 1 !== options.displayMonths);\r\n\r\n  formattedMonth.disableLeftArrow = isMonthDisabled(\r\n    shiftDate(formattedMonth.month, { month: -1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n  formattedMonth.disableRightArrow = isMonthDisabled(\r\n    shiftDate(formattedMonth.month, { month: 1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n\r\n  return formattedMonth;\r\n}\r\n\r\nfunction isDateInRange(\r\n  date: Date,\r\n  selectedRange: Date[],\r\n  hoveredDate: Date\r\n): boolean {\r\n  if (!date || !selectedRange[0]) {\r\n    return false;\r\n  }\r\n\r\n  if (selectedRange[1]) {\r\n    return date > selectedRange[0] && date <= selectedRange[1];\r\n  }\r\n\r\n  if (hoveredDate) {\r\n    return date > selectedRange[0] && date <= hoveredDate;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import { BsDatepickerViewMode } from '../models';\r\n\r\nexport function canSwitchMode(mode: BsDatepickerViewMode, minMode?: BsDatepickerViewMode): boolean {\r\n  return minMode ? mode >= minMode : true;\r\n}\r\n","import {\r\n  DatepickerFormatOptions,\r\n  MonthsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../models';\r\nimport { startOf, formatDate } from 'ngx-bootstrap/chronos';\r\nimport { createMatrix } from '../utils/matrix-utils';\r\n\r\nconst height = 4;\r\nconst width = 3;\r\nconst shift = { month: 1 };\r\n\r\nexport function formatMonthsCalendar(\r\n  viewDate: Date,\r\n  formatOptions: DatepickerFormatOptions\r\n): MonthsCalendarViewModel {\r\n  const initialDate = startOf(viewDate, 'year');\r\n  const matrixOptions = { width, height, initialDate, shift };\r\n  const monthMatrix = createMatrix<\r\n    CalendarCellViewModel\r\n  >(matrixOptions, date => ({\r\n    date,\r\n    label: formatDate(date, formatOptions.monthLabel, formatOptions.locale)\r\n  }));\r\n\r\n  return {\r\n    months: monthMatrix,\r\n    monthTitle: '',\r\n    yearTitle: formatDate(\r\n      viewDate,\r\n      formatOptions.yearTitle,\r\n      formatOptions.locale\r\n    )\r\n  };\r\n}\r\n","import { isSameMonth, shiftDate } from 'ngx-bootstrap/chronos';\r\nimport {\r\n  MonthsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../models';\r\nimport { isMonthDisabled, isYearDisabled } from '../utils/bs-calendar-utils';\r\n\r\nexport interface FlagMonthCalendarOptions {\r\n  isDisabled: boolean;\r\n  minDate: Date;\r\n  maxDate: Date;\r\n  hoveredMonth: Date;\r\n  selectedDate: Date;\r\n  selectedRange: Date[];\r\n  displayMonths: number;\r\n  monthIndex: number;\r\n}\r\n\r\nexport function flagMonthsCalendar(\r\n  monthCalendar: MonthsCalendarViewModel,\r\n  options: FlagMonthCalendarOptions\r\n): MonthsCalendarViewModel {\r\n  monthCalendar.months.forEach(\r\n    (months: CalendarCellViewModel[], rowIndex: number) => {\r\n      months.forEach((month: CalendarCellViewModel, monthIndex: number) => {\r\n        let isSelected: boolean;\r\n        const isHovered = isSameMonth(month.date, options.hoveredMonth);\r\n        const isDisabled =\r\n          options.isDisabled ||\r\n          isMonthDisabled(month.date, options.minDate, options.maxDate);\r\n\r\n        if (!options.selectedDate && options.selectedRange) {\r\n          isSelected = isSameMonth(month.date, options.selectedRange[0]);\r\n          if (!isSelected) {\r\n            isSelected = isSameMonth(month.date, options.selectedRange[1]);\r\n          }\r\n        } else {\r\n          isSelected = isSameMonth(month.date, options.selectedDate);\r\n        }\r\n        const newMonth = Object.assign(/*{},*/ month, {\r\n          isHovered,\r\n          isDisabled,\r\n          isSelected\r\n        });\r\n        if (\r\n          month.isHovered !== newMonth.isHovered ||\r\n          month.isDisabled !== newMonth.isDisabled ||\r\n          month.isSelected !== newMonth.isSelected\r\n        ) {\r\n          monthCalendar.months[rowIndex][monthIndex] = newMonth;\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  // todo: add check for linked calendars\r\n  monthCalendar.hideLeftArrow =\r\n    options.monthIndex > 0 && options.monthIndex !== options.displayMonths;\r\n  monthCalendar.hideRightArrow =\r\n    options.monthIndex < options.displayMonths &&\r\n    options.monthIndex + 1 !== options.displayMonths;\r\n\r\n  monthCalendar.disableLeftArrow = isYearDisabled(\r\n    shiftDate(monthCalendar.months[0][0].date, { year: -1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n  monthCalendar.disableRightArrow = isYearDisabled(\r\n    shiftDate(monthCalendar.months[0][0].date, { year: 1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n\r\n  return monthCalendar;\r\n}\r\n","import {\r\n  DatepickerFormatOptions,\r\n  YearsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../models';\r\nimport { shiftDate, formatDate } from 'ngx-bootstrap/chronos';\r\nimport { createMatrix } from '../utils/matrix-utils';\r\n\r\nconst height = 4;\r\nconst width = 4;\r\nexport const yearsPerCalendar = height * width;\r\nexport const initialYearShift = (Math.floor(yearsPerCalendar / 2) - 1) * -1;\r\nconst shift = { year: 1 };\r\n\r\nexport function formatYearsCalendar(\r\n  viewDate: Date,\r\n  formatOptions: DatepickerFormatOptions,\r\n  previousInitialDate?: Date\r\n): YearsCalendarViewModel {\r\n  const initialDate = calculateInitialDate(viewDate, previousInitialDate);\r\n  const matrixOptions = { width, height, initialDate, shift };\r\n  const yearsMatrix = createMatrix<\r\n    CalendarCellViewModel\r\n  >(matrixOptions, date => ({\r\n    date,\r\n    label: formatDate(date, formatOptions.yearLabel, formatOptions.locale)\r\n  }));\r\n  const yearTitle = formatYearRangeTitle(yearsMatrix, formatOptions);\r\n\r\n  return {\r\n    years: yearsMatrix,\r\n    monthTitle: '',\r\n    yearTitle\r\n  };\r\n}\r\n\r\nfunction calculateInitialDate(viewDate: Date, previousInitialDate?: Date): Date {\r\n  if (previousInitialDate\r\n    && viewDate.getFullYear() >= previousInitialDate.getFullYear()\r\n    && viewDate.getFullYear() < previousInitialDate.getFullYear() + yearsPerCalendar) {\r\n    return previousInitialDate;\r\n  }\r\n\r\n  return shiftDate(viewDate, { year: initialYearShift });\r\n}\r\n\r\nfunction formatYearRangeTitle(\r\n  yearsMatrix: CalendarCellViewModel[][],\r\n  formatOptions: DatepickerFormatOptions\r\n): string {\r\n  const from = formatDate(\r\n    yearsMatrix[0][0].date,\r\n    formatOptions.yearTitle,\r\n    formatOptions.locale\r\n  );\r\n  const to = formatDate(\r\n    yearsMatrix[height - 1][width - 1].date,\r\n    formatOptions.yearTitle,\r\n    formatOptions.locale\r\n  );\r\n\r\n  return `${from} - ${to}`;\r\n}\r\n","import { isSameYear, shiftDate } from 'ngx-bootstrap/chronos';\r\nimport { YearsCalendarViewModel, CalendarCellViewModel } from '../models';\r\nimport { isYearDisabled } from '../utils/bs-calendar-utils';\r\n\r\nexport interface FlagYearsCalendarOptions {\r\n  isDisabled: boolean;\r\n  minDate: Date;\r\n  maxDate: Date;\r\n  hoveredYear: Date;\r\n  selectedDate: Date;\r\n  selectedRange: Date[];\r\n  displayMonths: number;\r\n  yearIndex: number;\r\n}\r\n\r\nexport function flagYearsCalendar(\r\n  yearsCalendar: YearsCalendarViewModel,\r\n  options: FlagYearsCalendarOptions\r\n): YearsCalendarViewModel {\r\n  yearsCalendar.years.forEach(\r\n    (years: CalendarCellViewModel[], rowIndex: number) => {\r\n      years.forEach((year: CalendarCellViewModel, yearIndex: number) => {\r\n        let isSelected: boolean;\r\n        const isHovered = isSameYear(year.date, options.hoveredYear);\r\n        const isDisabled =\r\n          options.isDisabled ||\r\n          isYearDisabled(year.date, options.minDate, options.maxDate);\r\n\r\n        if (!options.selectedDate && options.selectedRange) {\r\n          isSelected = isSameYear(year.date, options.selectedRange[0]);\r\n          if (!isSelected) {\r\n            isSelected = isSameYear(year.date, options.selectedRange[1]);\r\n          }\r\n        } else {\r\n          isSelected = isSameYear(year.date, options.selectedDate);\r\n        }\r\n\r\n        const newMonth = Object.assign(/*{},*/ year, { isHovered, isDisabled, isSelected });\r\n        if (\r\n          year.isHovered !== newMonth.isHovered ||\r\n          year.isDisabled !== newMonth.isDisabled ||\r\n          year.isSelected !== newMonth.isSelected\r\n        ) {\r\n          yearsCalendar.years[rowIndex][yearIndex] = newMonth;\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  // todo: add check for linked calendars\r\n  yearsCalendar.hideLeftArrow =\r\n    options.yearIndex > 0 && options.yearIndex !== options.displayMonths;\r\n  yearsCalendar.hideRightArrow =\r\n    options.yearIndex < options.displayMonths &&\r\n    options.yearIndex + 1 !== options.displayMonths;\r\n\r\n  yearsCalendar.disableLeftArrow = isYearDisabled(\r\n    shiftDate(yearsCalendar.years[0][0].date, { year: -1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n  const i = yearsCalendar.years.length - 1;\r\n  const j = yearsCalendar.years[i].length - 1;\r\n  yearsCalendar.disableRightArrow = isYearDisabled(\r\n    shiftDate(yearsCalendar.years[i][j].date, { year: 1 }),\r\n    options.minDate,\r\n    options.maxDate\r\n  );\r\n\r\n  return yearsCalendar;\r\n}\r\n","import { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\r\nimport { Action } from 'ngx-bootstrap/mini-ngrx';\r\nimport { BsDatepickerActions } from './bs-datepicker.actions';\r\nimport { calcDaysCalendar } from '../engine/calc-days-calendar';\r\nimport { formatDaysCalendar } from '../engine/format-days-calendar';\r\nimport { flagDaysCalendar } from '../engine/flag-days-calendar';\r\nimport {\r\n  setFullDate,\r\n  shiftDate,\r\n  isArray,\r\n  isDateValid,\r\n  startOf,\r\n  getLocale,\r\n  isAfter,\r\n  isBefore,\r\n  isSame\r\n} from 'ngx-bootstrap/chronos';\r\nimport { canSwitchMode } from '../engine/view-mode';\r\nimport { formatMonthsCalendar } from '../engine/format-months-calendar';\r\nimport { flagMonthsCalendar } from '../engine/flag-months-calendar';\r\nimport { formatYearsCalendar, initialYearShift, yearsPerCalendar } from '../engine/format-years-calendar';\r\nimport { flagYearsCalendar } from '../engine/flag-years-calendar';\r\nimport { BsViewNavigationEvent, DatepickerFormatOptions, BsDatepickerViewMode } from '../models';\r\nimport { getYearsCalendarInitialDate } from '../utils/bs-calendar-utils';\r\n\r\n\r\nexport function bsDatepickerReducer(state = initialDatepickerState,\r\n                                    action: Action): BsDatepickerState {\r\n  switch (action.type) {\r\n    case BsDatepickerActions.CALCULATE: {\r\n      return calculateReducer(state);\r\n    }\r\n\r\n    case BsDatepickerActions.FORMAT: {\r\n      return formatReducer(state);\r\n    }\r\n\r\n    case BsDatepickerActions.FLAG: {\r\n      return flagReducer(state);\r\n    }\r\n\r\n    case BsDatepickerActions.NAVIGATE_OFFSET: {\r\n      return navigateOffsetReducer(state, action);\r\n    }\r\n\r\n    case BsDatepickerActions.NAVIGATE_TO: {\r\n      const payload: BsViewNavigationEvent = action.payload;\r\n\r\n      const date = setFullDate(state.view.date, payload.unit);\r\n      let newState;\r\n      let mode: BsDatepickerViewMode;\r\n      if (canSwitchMode(payload.viewMode, state.minMode)) {\r\n        mode = payload.viewMode;\r\n        newState = { view: { date, mode } };\r\n      } else {\r\n        mode = state.view.mode;\r\n        newState = { selectedDate: date, view: { date, mode } };\r\n      }\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.CHANGE_VIEWMODE: {\r\n      if (!canSwitchMode(action.payload, state.minMode)) {\r\n        return state;\r\n      }\r\n      const date = state.view.date;\r\n      const mode = action.payload;\r\n      const newState = { view: { date, mode } };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.HOVER: {\r\n      return Object.assign({}, state, { hoveredDate: action.payload });\r\n    }\r\n\r\n    case BsDatepickerActions.SELECT: {\r\n      const newState = {\r\n        selectedDate: action.payload,\r\n        view: state.view\r\n      };\r\n\r\n      const mode = state.view.mode;\r\n      const _date = action.payload || state.view.date;\r\n      const date = getViewDate(_date, state.minDate, state.maxDate);\r\n      newState.view = { mode, date };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.SET_OPTIONS: {\r\n      const newState = action.payload;\r\n      // preserve view mode\r\n      const mode = newState.minMode ? newState.minMode : state.view.mode;\r\n      const _viewDate = isDateValid(newState.value) && newState.value\r\n        || isArray(newState.value) && isDateValid(newState.value[0]) && newState.value[0]\r\n        || state.view.date;\r\n      const date = getViewDate(_viewDate, newState.minDate, newState.maxDate);\r\n      newState.view = { mode, date };\r\n      // update selected value\r\n      if (newState.value) {\r\n        // if new value is array we work with date range\r\n        if (isArray(newState.value)) {\r\n          newState.selectedRange = newState.value;\r\n        }\r\n\r\n        // if new value is a date -> datepicker\r\n        if (newState.value instanceof Date) {\r\n          newState.selectedDate = newState.value;\r\n        }\r\n\r\n        // provided value is not supported :)\r\n        // need to report it somehow\r\n      }\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    // date range picker\r\n    case BsDatepickerActions.SELECT_RANGE: {\r\n      const newState = {\r\n        selectedRange: action.payload,\r\n        view: state.view\r\n      };\r\n\r\n      const mode = state.view.mode;\r\n      const _date = action.payload && action.payload[0] || state.view.date;\r\n      const date = getViewDate(_date, state.minDate, state.maxDate);\r\n      newState.view = { mode, date };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.SET_MIN_DATE: {\r\n      return Object.assign({}, state, {\r\n        minDate: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_MAX_DATE: {\r\n      return Object.assign({}, state, {\r\n        maxDate: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_IS_DISABLED: {\r\n      return Object.assign({}, state, {\r\n        isDisabled: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_DATE_CUSTOM_CLASSES: {\r\n      return Object.assign({}, state, {\r\n        dateCustomClasses: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_DATE_TOOLTIP_TEXTS: {\r\n      return Object.assign({}, state, {\r\n        dateTooltipTexts: action.payload\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction calculateReducer(state: BsDatepickerState): BsDatepickerState {\r\n  // how many calendars\r\n  const displayMonths = (state.displayOneMonthRange &&\r\n    isDisplayOneMonth(state.view.date, state.minDate, state.maxDate)) ? 1 : state.displayMonths;\r\n\r\n  // use selected date on initial rendering if set\r\n  let viewDate = state.view.date;\r\n\r\n  if (state.view.mode === 'day') {\r\n    if (state.showPreviousMonth && state.selectedRange && state.selectedRange.length === 0) {\r\n      viewDate = shiftDate(viewDate, { month: -1 });\r\n    }\r\n\r\n    state.monthViewOptions.firstDayOfWeek = getLocale(state.locale).firstDayOfWeek();\r\n    let monthsModel = new Array(displayMonths);\r\n    for (let monthIndex = 0; monthIndex < displayMonths; monthIndex++) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsModel[monthIndex] = calcDaysCalendar(\r\n        viewDate,\r\n        state.monthViewOptions\r\n      );\r\n      viewDate = shiftDate(viewDate, { month: 1 });\r\n    }\r\n    // Check if parameter enabled and check if it's not months navigation event\r\n    if (state.preventChangeToNextMonth && state.flaggedMonths && state.hoveredDate) {\r\n      const viewMonth = calcDaysCalendar(state.view.date, state.monthViewOptions);\r\n      // Check if viewed right month same as in flaggedMonths state, then override months model with flaggedMonths\r\n      if (state.flaggedMonths.length && state.flaggedMonths[1].month.getMonth() === viewMonth.month.getMonth()) {\r\n        monthsModel = state.flaggedMonths\r\n          .map(item => calcDaysCalendar(\r\n            item.month,\r\n            state.monthViewOptions\r\n          ));\r\n      }\r\n    }\r\n    \r\n    console.log(state.view.date)\r\n\r\n    return Object.assign({}, state, { monthsModel });\r\n  }\r\n\r\n  if (state.view.mode === 'month') {\r\n    const monthsCalendar = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarModel = new Array(displayMonths);\r\n\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state),\r\n        state.minMode === 'year' ? getYearsCalendarInitialDate(state, calendarIndex) : undefined\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: yearsPerCalendar });\r\n    }\r\n\r\n    return Object.assign({}, state, { yearsCalendarModel });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction formatReducer(state: BsDatepickerState): BsDatepickerState {\r\n  if (state.view.mode === 'day') {\r\n    const formattedMonths = state.monthsModel.map((month, monthIndex) =>\r\n      formatDaysCalendar(month, getFormatOptions(state), monthIndex)\r\n    );\r\n\r\n    return Object.assign({}, state, { formattedMonths });\r\n  }\r\n\r\n  // how many calendars\r\n  const displayMonths = state.displayMonths;\r\n  // check initial rendering\r\n  // use selected date on initial rendering if set\r\n  let viewDate = state.view.date;\r\n\r\n  if (state.view.mode === 'month') {\r\n    const monthsCalendar = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarModel = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 16 });\r\n    }\r\n\r\n    return Object.assign({}, state, { yearsCalendarModel });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction flagReducer(state: BsDatepickerState): BsDatepickerState {\r\n  const displayMonths = isDisplayOneMonth(state.view.date, state.minDate, state.maxDate) ? 1 : state.displayMonths;\r\n  if (state.view.mode === 'day') {\r\n    const flaggedMonths = state.formattedMonths.map(\r\n      (formattedMonth, monthIndex) =>\r\n        flagDaysCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          daysDisabled: state.daysDisabled,\r\n          datesDisabled: state.datesDisabled,\r\n          datesEnabled: state.datesEnabled,\r\n          hoveredDate: state.hoveredDate,\r\n          selectedDate: state.selectedDate,\r\n          selectedRange: state.selectedRange,\r\n          displayMonths,\r\n          dateCustomClasses: state.dateCustomClasses,\r\n          dateTooltipTexts: state.dateTooltipTexts,\r\n          monthIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { flaggedMonths });\r\n  }\r\n\r\n  if (state.view.mode === 'month') {\r\n    const flaggedMonthsCalendar = state.monthsCalendar.map(\r\n      (formattedMonth, monthIndex) =>\r\n        flagMonthsCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredMonth: state.hoveredMonth,\r\n          selectedDate: state.selectedDate,\r\n          selectedRange: state.selectedRange,\r\n          displayMonths,\r\n          monthIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { flaggedMonthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarFlagged = state.yearsCalendarModel.map(\r\n      (formattedMonth, yearIndex) =>\r\n        flagYearsCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredYear: state.hoveredYear,\r\n          selectedDate: state.selectedDate,\r\n          selectedRange: state.selectedRange,\r\n          displayMonths,\r\n          yearIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { yearsCalendarFlagged });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction navigateOffsetReducer(state: BsDatepickerState, action: Action): BsDatepickerState {\r\n  const newState = {\r\n    view: {\r\n      mode: state.view.mode,\r\n      date: shiftViewDate(state, action)\r\n    }\r\n  };\r\n\r\n  return Object.assign({}, state, newState);\r\n}\r\n\r\nfunction shiftViewDate(state: BsDatepickerState, action: Action): Date {\r\n  if (state.view.mode === 'year' && state.minMode === 'year') {\r\n    const initialDate = getYearsCalendarInitialDate(state, 0);\r\n    const middleDate = shiftDate(initialDate, { year: -initialYearShift });\r\n\r\n    return shiftDate(middleDate, action.payload);\r\n  }\r\n\r\n  return shiftDate(startOf(state.view.date, 'month'), action.payload);\r\n}\r\n\r\nfunction getFormatOptions(state: BsDatepickerState): DatepickerFormatOptions {\r\n  return {\r\n    locale: state.locale,\r\n\r\n    monthTitle: state.monthTitle,\r\n    yearTitle: state.yearTitle,\r\n\r\n    dayLabel: state.dayLabel,\r\n    monthLabel: state.monthLabel,\r\n    yearLabel: state.yearLabel,\r\n\r\n    weekNumbers: state.weekNumbers\r\n  };\r\n}\r\n\r\n/**\r\n * if view date is provided (bsValue|ngModel) it should be shown\r\n * if view date is not provider:\r\n * if minDate>currentDate (default view value), show minDate\r\n * if maxDate<currentDate(default view value) show maxDate\r\n */\r\nfunction getViewDate(viewDate: Date | Date[], minDate: Date, maxDate: Date) {\r\n  const _date = Array.isArray(viewDate) ? viewDate[0] : viewDate;\r\n\r\n  if (minDate && isAfter(minDate, _date, 'day')) {\r\n    return minDate;\r\n  }\r\n\r\n  if (maxDate && isBefore(maxDate, _date, 'day')) {\r\n    return maxDate;\r\n  }\r\n\r\n  return _date;\r\n}\r\n\r\nfunction isDisplayOneMonth(viewDate: Date, minDate: Date, maxDate: Date) {\r\n  if (maxDate && isSame(maxDate, viewDate, 'day')) {\r\n    return true;\r\n  }\r\n\r\n  if (minDate && maxDate &&  minDate.getMonth() === maxDate.getMonth()) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MiniStore, Action, MiniState } from 'ngx-bootstrap/mini-ngrx';\r\nimport { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { bsDatepickerReducer } from './bs-datepicker.reducer';\r\n\r\n@Injectable()\r\nexport class BsDatepickerStore extends MiniStore<BsDatepickerState> {\r\n  constructor() {\r\n    const _dispatcher = new BehaviorSubject<Action>({\r\n      type: '[datepicker] dispatcher init'\r\n    });\r\n    const state = new MiniState<BsDatepickerState>(\r\n      initialDatepickerState,\r\n      _dispatcher,\r\n      bsDatepickerReducer\r\n    );\r\n    super(_dispatcher, bsDatepickerReducer, state);\r\n  }\r\n}\r\n","import { TimeUnit } from 'ngx-bootstrap/chronos';\r\n\r\nexport type BsDatepickerViewMode = 'day' | 'month' | 'year';\r\n\r\n/** *************** */\r\n// navigation bar settings\r\nexport interface NavigationViewModel {\r\n  monthTitle: string;\r\n  yearTitle: string;\r\n  hideLeftArrow?: boolean;\r\n  hideRightArrow?: boolean;\r\n  disableLeftArrow?: boolean;\r\n  disableRightArrow?: boolean;\r\n}\r\n\r\nexport interface CalendarCellViewModel {\r\n  date: Date;\r\n  label: string;\r\n  isDisabled?: boolean;\r\n  isHovered?: boolean;\r\n  isSelected?: boolean;\r\n}\r\n\r\n/** *************** */\r\n// days matrix: day cell view model\r\nexport interface DayViewModel extends CalendarCellViewModel {\r\n  isOtherMonthHovered?: boolean;\r\n  isOtherMonth?: boolean;\r\n  isInRange?: boolean;\r\n  isSelectionStart?: boolean;\r\n  isSelectionEnd?: boolean;\r\n  isToday?: boolean;\r\n  customClasses?: string;\r\n  tooltipText?: string;\r\n  // day index\r\n  monthIndex?: number;\r\n  weekIndex?: number;\r\n  dayIndex?: number;\r\n}\r\n\r\nexport interface WeekViewModel {\r\n  days: DayViewModel[];\r\n  isHovered?: boolean;\r\n}\r\n\r\n// todo: split navigation settings\r\nexport interface DaysCalendarViewModel extends NavigationViewModel {\r\n  weeks: WeekViewModel[];\r\n  // additional information\r\n  month: Date;\r\n  weekNumbers: string[];\r\n  weekdays: string[];\r\n}\r\n\r\n/** *************** */\r\n// months calendar\r\nexport interface MonthsCalendarViewModel extends NavigationViewModel {\r\n  months: CalendarCellViewModel[][];\r\n}\r\n\r\n/** *************** */\r\n// years calendar\r\nexport interface YearsCalendarViewModel extends NavigationViewModel {\r\n  years: CalendarCellViewModel[][];\r\n}\r\n\r\n/** *************** */\r\n\r\n// math model\r\n/** *************** */\r\n\r\n// days Date's array\r\nexport interface DaysCalendarModel {\r\n  daysMatrix: Date[][];\r\n  month: Date;\r\n}\r\n\r\n/** *************** */\r\n// some func options\r\nexport interface MonthViewOptions {\r\n  width?: number;\r\n  height?: number;\r\n  firstDayOfWeek?: number;\r\n}\r\n\r\n/** *************** */\r\n// rendering options\r\nexport interface DatepickerFormatOptions {\r\n  locale: string;\r\n\r\n  monthTitle: string;\r\n  yearTitle: string;\r\n\r\n  dayLabel: string;\r\n  monthLabel: string;\r\n  yearLabel: string;\r\n\r\n  weekNumbers: string;\r\n}\r\n\r\nexport interface DatepickerRenderOptions {\r\n  showWeekNumbers?: boolean;\r\n  displayMonths?: number;\r\n}\r\n\r\nexport interface DatepickerDateCustomClasses {\r\n  date: Date;\r\n  classes: string[];\r\n}\r\n\r\nexport interface DatepickerDateTooltipText {\r\n  date: Date;\r\n  tooltipText: string;\r\n}\r\n\r\n/** *************** */\r\n// events\r\n/** *************** */\r\nexport enum BsNavigationDirection {\r\n  UP,\r\n  DOWN\r\n}\r\n\r\n// used for navigation events, to change view date in state\r\nexport interface BsNavigationEvent {\r\n  direction?: BsNavigationDirection;\r\n  step?: TimeUnit;\r\n}\r\n\r\nexport interface BsViewNavigationEvent {\r\n  unit?: TimeUnit;\r\n  viewMode: BsDatepickerViewMode;\r\n}\r\n\r\nexport interface CellHoverEvent {\r\n  cell: CalendarCellViewModel;\r\n  isHovered: boolean;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-current-date',\r\n  template: `<div class=\"current-timedate\"><span>{{ title }}</span></div>`\r\n})\r\nexport class BsCurrentDateViewComponent {\r\n  @Input() title: string;\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-timepicker',\r\n  template: `\r\n    <div class=\"bs-timepicker-container\">\r\n      <div class=\"bs-timepicker-controls\">\r\n        <button class=\"bs-decrease\" type=\"button\">-</button>\r\n        <input type=\"text\" [value]=\"hours\" placeholder=\"00\">\r\n        <button class=\"bs-increase\" type=\"button\">+</button>\r\n      </div>\r\n      <div class=\"bs-timepicker-controls\">\r\n        <button class=\"bs-decrease\" type=\"button\">-</button>\r\n        <input type=\"text\" [value]=\"minutes\" placeholder=\"00\">\r\n        <button class=\"bs-increase\" type=\"button\">+</button>\r\n      </div>\r\n      <button class=\"switch-time-format\" type=\"button\">{{ ampm }}\r\n        <img\r\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\"\r\n          alt=\"\">\r\n      </button>\r\n    </div>\r\n  `\r\n})\r\nexport class BsTimepickerViewComponent {\r\n  ampm = 'ok';\r\n  hours = 0;\r\n  minutes = 0;\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-calendar-layout',\r\n  template: `\r\n    <!-- current date, will be added in nearest releases -->\r\n    <bs-current-date title=\"hey there\" *ngIf=\"false\"></bs-current-date>\r\n\r\n    <!--navigation-->\r\n    <div class=\"bs-datepicker-head\">\r\n      <ng-content select=\"bs-datepicker-navigation-view\"></ng-content>\r\n    </div>\r\n\r\n    <div class=\"bs-datepicker-body\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n\r\n    <!--timepicker-->\r\n    <bs-timepicker *ngIf=\"false\"></bs-timepicker>\r\n  `\r\n})\r\nexport class BsCalendarLayoutComponent {}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output\r\n} from '@angular/core';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  DaysCalendarViewModel\r\n} from '../../models';\r\n\r\n@Component({\r\n  selector: 'bs-datepicker-navigation-view',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <button class=\"previous\"\r\n            [disabled]=\"calendar.disableLeftArrow\"\r\n            [style.visibility]=\"calendar.hideLeftArrow ? 'hidden' : 'visible'\"\r\n            type=\"button\"\r\n            (click)=\"navTo(true)\">\r\n      <span>&lsaquo;</span>\r\n    </button>\r\n\r\n    <ng-container *ngIf=\"calendar.monthTitle\">\r\n      &#8203;  <!-- zero-width space needed for correct alignement\r\n                  with preserveWhitespaces: false in Angular -->\r\n\r\n      <button class=\"current\"\r\n            type=\"button\"\r\n            (click)=\"view('month')\"\r\n      ><span>{{ calendar.monthTitle }}</span>\r\n      </button>\r\n    </ng-container>\r\n\r\n    &#8203;  <!-- zero-width space needed for correct alignement\r\n                  with preserveWhitespaces: false in Angular -->\r\n\r\n    <button class=\"current\" (click)=\"view('year')\" type=\"button\">\r\n      <span>{{ calendar.yearTitle }}</span>\r\n    </button>\r\n\r\n    &#8203;  <!-- zero-width space needed for correct alignement\r\n                  with preserveWhitespaces: false in Angular -->\r\n\r\n    <button class=\"next\"\r\n            [disabled]=\"calendar.disableRightArrow\"\r\n            [style.visibility]=\"calendar.hideRightArrow ? 'hidden' : 'visible'\"\r\n            type=\"button\"\r\n            (click)=\"navTo(false)\"><span>&rsaquo;</span>\r\n    </button>\r\n  `\r\n})\r\nexport class BsDatepickerNavigationViewComponent {\r\n  @Input() calendar: DaysCalendarViewModel;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationDirection>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  navTo(down: boolean): void {\r\n    this.onNavigate.emit(\r\n      down ? BsNavigationDirection.DOWN : BsNavigationDirection.UP\r\n    );\r\n  }\r\n\r\n  view(viewMode: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(viewMode);\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnInit,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { DayViewModel } from '../../models';\r\n\r\n@Component({\r\n  selector: '[bsDatepickerDayDecorator]',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[class.disabled]': 'day.isDisabled',\r\n    '[class.is-highlighted]': 'day.isHovered',\r\n    '[class.is-other-month]': 'day.isOtherMonth',\r\n    '[class.is-active-other-month]': 'day.isOtherMonthHovered',\r\n    '[class.in-range]': 'day.isInRange',\r\n    '[class.select-start]': 'day.isSelectionStart',\r\n    '[class.select-end]': 'day.isSelectionEnd',\r\n    '[class.selected]': 'day.isSelected'\r\n  },\r\n  template: `{{ day.label }}`\r\n})\r\nexport class BsDatepickerDayDecoratorComponent implements OnInit {\r\n  @Input() day: DayViewModel;\r\n\r\n  constructor(\r\n    private _config: BsDatepickerConfig,\r\n    private _elRef: ElementRef,\r\n    private _renderer: Renderer2\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.day.isToday && this._config && this._config.customTodayClass) {\r\n      this._renderer.addClass(this._elRef.nativeElement, this._config.customTodayClass);\r\n    }\r\n\r\n    if (typeof this.day.customClasses === 'string') {\r\n      this.day.customClasses.split(' ')\r\n        .filter((className: string) => className)\r\n        .forEach((className: string) => {\r\n          this._renderer.addClass(this._elRef.nativeElement, className);\r\n        });\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output\r\n} from '@angular/core';\r\n\r\nimport { isSameDay } from 'ngx-bootstrap/chronos';\r\n\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  BsNavigationEvent,\r\n  CellHoverEvent, DatepickerDateTooltipText,\r\n  DatepickerRenderOptions,\r\n  DaysCalendarViewModel,\r\n  DayViewModel, WeekViewModel\r\n} from '../../models';\r\n\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\n\r\n@Component({\r\n  selector: 'bs-days-calendar-view',\r\n  // changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bs-calendar-layout>\r\n      <bs-datepicker-navigation-view\r\n        [calendar]=\"calendar\"\r\n        (onNavigate)=\"navigateTo($event)\"\r\n        (onViewMode)=\"changeViewMode($event)\"\r\n      ></bs-datepicker-navigation-view>\r\n\r\n      <!--days matrix-->\r\n      <table role=\"grid\" class=\"days weeks\">\r\n        <thead>\r\n        <tr>\r\n          <!--if show weeks-->\r\n          <th *ngIf=\"options.showWeekNumbers\"></th>\r\n          <th *ngFor=\"let weekday of calendar.weekdays; let i = index\"\r\n              aria-label=\"weekday\">{{ calendar.weekdays[i] }}\r\n          </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr *ngFor=\"let week of calendar.weeks; let i = index\">\r\n          <td class=\"week\" [class.active-week]=\"isWeekHovered\"  *ngIf=\"options.showWeekNumbers\">\r\n            <span *ngIf=\"isiOS\" (click)=\"selectWeek(week)\">{{ calendar.weekNumbers[i] }}</span>\r\n            <span *ngIf=\"!isiOS\"\r\n                (click)=\"selectWeek(week)\"\r\n                (mouseenter)=\"weekHoverHandler(week, true)\"\r\n                (mouseleave)=\"weekHoverHandler(week, false)\">{{ calendar.weekNumbers[i] }}</span>\r\n          </td>\r\n          <td *ngFor=\"let day of week.days\" role=\"gridcell\">\r\n\r\n            <!-- When we want to show tooltips for dates -->\r\n            <span *ngIf=\"!isiOS && isShowTooltip\" bsDatepickerDayDecorator\r\n                [day]=\"day\"\r\n                (click)=\"selectDay(day)\"\r\n                tooltip=\"{{day.tooltipText}}\"\r\n                (mouseenter)=\"hoverDay(day, true)\"\r\n                (mouseleave)=\"hoverDay(day, false)\">{{ day.label }} 3</span>\r\n            <!-- When tooltips for dates are disabled -->\r\n            <span *ngIf=\"!isiOS && !isShowTooltip\" bsDatepickerDayDecorator\r\n                  [day]=\"day\"\r\n                  (click)=\"selectDay(day)\"\r\n                  (mouseenter)=\"hoverDay(day, true)\"\r\n                  (mouseleave)=\"hoverDay(day, false)\">{{ day.label }} 2</span>\r\n\r\n            <!-- For mobile iOS view, tooltips are not needed -->\r\n            <span *ngIf=\"isiOS\" bsDatepickerDayDecorator\r\n                  [day]=\"day\"\r\n                  (click)=\"selectDay(day)\">{{ day.label }} 1</span>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n    </bs-calendar-layout>\r\n  `\r\n})\r\nexport class BsDaysCalendarViewComponent  {\r\n  @Input() calendar: DaysCalendarViewModel;\r\n  @Input() options: DatepickerRenderOptions;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  @Output() onSelect = new EventEmitter<DayViewModel>();\r\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\r\n  @Output() onHoverWeek = new EventEmitter<WeekViewModel>();\r\n\r\n  isWeekHovered: boolean;\r\n  isiOS: boolean;\r\n  isShowTooltip: boolean;\r\n\r\n  constructor(private _config: BsDatepickerConfig) {\r\n    this.isiOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\r\n      (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1));\r\n    if (this._config.dateTooltipTexts && this._config.dateTooltipTexts.length > 0) {\r\n      this.isShowTooltip = true;\r\n    }\r\n  }\r\n\r\n  navigateTo(event: BsNavigationDirection): void {\r\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\r\n    this.onNavigate.emit({ step: { month: step } });\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(event);\r\n  }\r\n\r\n  selectDay(event: DayViewModel): void {\r\n    this.onSelect.emit(event);\r\n  }\r\n\r\n  selectWeek(week: WeekViewModel): void {\r\n    if (!this._config.selectWeek && !this._config.selectWeekDateRange) {\r\n      return;\r\n    }\r\n\r\n    if (week.days.length === 0) {\r\n      return;\r\n    }\r\n\r\n    if (this._config.selectWeek && week.days[0]\r\n        && !week.days[0].isDisabled\r\n        && this._config.selectFromOtherMonth) {\r\n\r\n        this.onSelect.emit(week.days[0]);\r\n\r\n        return;\r\n    }\r\n\r\n    const selectedDay = week.days.find((day: DayViewModel) => {\r\n      return this._config.selectFromOtherMonth\r\n        ? !day.isDisabled\r\n        : !day.isOtherMonth && !day.isDisabled;\r\n    });\r\n\r\n    this.onSelect.emit(selectedDay);\r\n\r\n    if (this._config.selectWeekDateRange) {\r\n      const days = week.days.slice(0);\r\n      const lastDayOfRange = days.reverse().find((day: DayViewModel) => {\r\n        return this._config.selectFromOtherMonth\r\n          ? !day.isDisabled\r\n          : !day.isOtherMonth && !day.isDisabled;\r\n      });\r\n\r\n      this.onSelect.emit(lastDayOfRange);\r\n    }\r\n  }\r\n\r\n  weekHoverHandler(cell: WeekViewModel, isHovered: boolean): void {\r\n    if (!this._config.selectWeek && !this._config.selectWeekDateRange) {\r\n      return;\r\n    }\r\n\r\n    const hasActiveDays = cell.days.find((day: DayViewModel) => {\r\n      return this._config.selectFromOtherMonth\r\n        ? !day.isDisabled\r\n        : !day.isOtherMonth && !day.isDisabled;\r\n    });\r\n\r\n    if (hasActiveDays) {\r\n      cell.isHovered = isHovered;\r\n      this.isWeekHovered = isHovered;\r\n      this.onHoverWeek.emit(cell);\r\n    }\r\n  }\r\n\r\n  hoverDay(cell: DayViewModel, isHovered: boolean): void {\r\n    if (this._config.selectFromOtherMonth && cell.isOtherMonth) {\r\n      cell.isOtherMonthHovered = isHovered;\r\n    }\r\n\r\n    if (this._config.dateTooltipTexts) {\r\n      cell.tooltipText = '';\r\n      this._config.dateTooltipTexts.forEach((dateData: DatepickerDateTooltipText) => {\r\n\r\n        if (isSameDay(dateData.date, cell.date)) {\r\n          cell.tooltipText = dateData.tooltipText;\r\n\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.onHover.emit({ cell, isHovered });\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  BsNavigationEvent,\r\n  CellHoverEvent,\r\n  MonthsCalendarViewModel,\r\n  CalendarCellViewModel\r\n} from '../../models';\r\n\r\n@Component({\r\n  selector: 'bs-month-calendar-view',\r\n  template: `\r\n    <bs-calendar-layout>\r\n      <bs-datepicker-navigation-view\r\n        [calendar]=\"calendar\"\r\n        (onNavigate)=\"navigateTo($event)\"\r\n        (onViewMode)=\"changeViewMode($event)\"\r\n      ></bs-datepicker-navigation-view>\r\n\r\n      <table role=\"grid\" class=\"months\">\r\n        <tbody>\r\n        <tr *ngFor=\"let row of calendar.months\">\r\n          <td *ngFor=\"let month of row\" role=\"gridcell\"\r\n              (click)=\"viewMonth(month)\"\r\n              (mouseenter)=\"hoverMonth(month, true)\"\r\n              (mouseleave)=\"hoverMonth(month, false)\"\r\n              [class.disabled]=\"month.isDisabled\"\r\n              [class.is-highlighted]=\"month.isHovered\">\r\n            <span [class.selected]=\"month.isSelected\">{{ month.label }}</span>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </bs-calendar-layout>\r\n  `\r\n})\r\nexport class BsMonthCalendarViewComponent {\r\n  @Input() calendar: MonthsCalendarViewModel;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  @Output() onSelect = new EventEmitter<CalendarCellViewModel>();\r\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\r\n\r\n  navigateTo(event: BsNavigationDirection): void {\r\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\r\n    this.onNavigate.emit({ step: { year: step } });\r\n  }\r\n\r\n  viewMonth(month: CalendarCellViewModel) {\r\n    this.onSelect.emit(month);\r\n  }\r\n\r\n  hoverMonth(cell: CalendarCellViewModel, isHovered: boolean) {\r\n    this.onHover.emit({ cell, isHovered });\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(event);\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { yearsPerCalendar } from '../../engine/format-years-calendar';\r\nimport {\r\n  BsDatepickerViewMode,\r\n  BsNavigationDirection,\r\n  BsNavigationEvent,\r\n  CalendarCellViewModel,\r\n  CellHoverEvent,\r\n  YearsCalendarViewModel\r\n} from '../../models';\r\n\r\n@Component({\r\n  selector: 'bs-years-calendar-view',\r\n  template: `\r\n    <bs-calendar-layout>\r\n      <bs-datepicker-navigation-view\r\n        [calendar]=\"calendar\"\r\n        (onNavigate)=\"navigateTo($event)\"\r\n        (onViewMode)=\"changeViewMode($event)\"\r\n      ></bs-datepicker-navigation-view>\r\n\r\n      <table role=\"grid\" class=\"years\">\r\n        <tbody>\r\n        <tr *ngFor=\"let row of calendar.years\">\r\n          <td *ngFor=\"let year of row\" role=\"gridcell\"\r\n              (click)=\"viewYear(year)\"\r\n              (mouseenter)=\"hoverYear(year, true)\"\r\n              (mouseleave)=\"hoverYear(year, false)\"\r\n              [class.disabled]=\"year.isDisabled\"\r\n              [class.is-highlighted]=\"year.isHovered\">\r\n            <span [class.selected]=\"year.isSelected\">{{ year.label }}</span>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </bs-calendar-layout>\r\n  `\r\n})\r\nexport class BsYearsCalendarViewComponent {\r\n  @Input() calendar: YearsCalendarViewModel;\r\n\r\n  @Output() onNavigate = new EventEmitter<BsNavigationEvent>();\r\n  @Output() onViewMode = new EventEmitter<BsDatepickerViewMode>();\r\n\r\n  @Output() onSelect = new EventEmitter<CalendarCellViewModel>();\r\n  @Output() onHover = new EventEmitter<CellHoverEvent>();\r\n\r\n  navigateTo(event: BsNavigationDirection): void {\r\n    const step = BsNavigationDirection.DOWN === event ? -1 : 1;\r\n    this.onNavigate.emit({ step: { year: step * yearsPerCalendar } });\r\n  }\r\n\r\n  viewYear(year: CalendarCellViewModel) {\r\n    this.onSelect.emit(year);\r\n  }\r\n\r\n  hoverYear(cell: CalendarCellViewModel, isHovered: boolean) {\r\n    this.onHover.emit({ cell, isHovered });\r\n  }\r\n\r\n  changeViewMode(event: BsDatepickerViewMode): void {\r\n    this.onViewMode.emit(event);\r\n  }\r\n}\r\n","import { Component, ChangeDetectionStrategy, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nexport interface BsCustomDates {\r\n  label: string;\r\n  value: Date | Date[];\r\n}\r\n\r\n@Component({\r\n  selector: 'bs-custom-date-view',\r\n  template: `\r\n    <div class=\"bs-datepicker-predefined-btns\">\r\n      <button *ngFor=\"let range of ranges\"\r\n        type=\"button\"\r\n        class=\"btn\"\r\n        (click)=\"selectFromRanges(range)\"\r\n        [class.selected]=\"range.value === selectedRange\">\r\n        {{ range.label }}\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn\"\r\n        (click)=\"selectFromRanges(customRange)\"\r\n        [class.selected]=\"!checkRange()\">\r\n        {{customRangeLabel}}\r\n      </button>\r\n    </div>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class BsCustomDatesViewComponent {\r\n  @Input() ranges: BsCustomDates[];\r\n  @Input() selectedRange: Date[];\r\n  @Input() customRangeLabel: string;\r\n  @Output() onSelect = new EventEmitter<BsCustomDates>();\r\n\r\n  customRange = null;\r\n\r\n  selectFromRanges(range: BsCustomDates) {\r\n    this.onSelect.emit(range);\r\n  }\r\n\r\n  checkRange() {\r\n    return this.ranges ? this.ranges.filter(range => range.value === this.selectedRange).length > 0 : false;\r\n  }\r\n\r\n}\r\n","<!-- days calendar view mode -->\r\n<div class=\"bs-datepicker\" [ngClass]=\"containerClass\" *ngIf=\"viewMode | async\">\r\n  <div class=\"bs-datepicker-container\"\r\n    [@datepickerAnimation]=\"animationState\"\r\n    (@datepickerAnimation.done)=\"positionServiceEnable()\">\r\n    <!--calendars-->\r\n    <div class=\"bs-calendar-container\" [ngSwitch]=\"viewMode | async\" role=\"application\">\r\n      <!--days calendar-->\r\n      <div *ngSwitchCase=\"'day'\" class=\"bs-media-container\">\r\n        <bs-days-calendar-view\r\n          *ngFor=\"let calendar of daysCalendar | async\"\r\n          [class.bs-datepicker-multiple]=\"(daysCalendar | async)?.length > 1\"\r\n          [calendar]=\"calendar\"\r\n          [options]=\"options | async\"\r\n          (onNavigate)=\"navigateTo($event)\"\r\n          (onViewMode)=\"setViewMode($event)\"\r\n          (onHover)=\"dayHoverHandler($event)\"\r\n          (onHoverWeek)=\"weekHoverHandler($event)\"\r\n          (onSelect)=\"daySelectHandler($event)\">\r\n        </bs-days-calendar-view>\r\n      </div>\r\n\r\n      <!--months calendar-->\r\n      <div *ngSwitchCase=\"'month'\" class=\"bs-media-container\">\r\n        <bs-month-calendar-view\r\n          *ngFor=\"let calendar of monthsCalendar | async\"\r\n          [class.bs-datepicker-multiple]=\"(daysCalendar | async)?.length > 1\"\r\n          [calendar]=\"calendar\"\r\n          (onNavigate)=\"navigateTo($event)\"\r\n          (onViewMode)=\"setViewMode($event)\"\r\n          (onHover)=\"monthHoverHandler($event)\"\r\n          (onSelect)=\"monthSelectHandler($event)\">\r\n        </bs-month-calendar-view>\r\n      </div>\r\n\r\n      <!--years calendar-->\r\n      <div *ngSwitchCase=\"'year'\" class=\"bs-media-container\">\r\n        <bs-years-calendar-view\r\n          *ngFor=\"let calendar of yearsCalendar | async\"\r\n          [class.bs-datepicker-multiple]=\"(daysCalendar | async)?.length > 1\"\r\n          [calendar]=\"calendar\"\r\n          (onNavigate)=\"navigateTo($event)\"\r\n          (onViewMode)=\"setViewMode($event)\"\r\n          (onHover)=\"yearHoverHandler($event)\"\r\n          (onSelect)=\"yearSelectHandler($event)\">\r\n        </bs-years-calendar-view>\r\n      </div>\r\n    </div>\r\n\r\n    <!--applycancel buttons-->\r\n    <div class=\"bs-datepicker-buttons\" *ngIf=\"false\">\r\n      <button class=\"btn btn-success\" type=\"button\">Apply</button>\r\n      <button class=\"btn btn-default\" type=\"button\">Cancel</button>\r\n    </div>\r\n\r\n    <div class=\"bs-datepicker-buttons\" *ngIf=\"showTodayBtn || showClearBtn\">\r\n      <div class=\"btn-today-wrapper\"\r\n           [class.today-left]=\"todayPos === 'left'\"\r\n           [class.today-right]=\"todayPos === 'right'\"\r\n           [class.today-center]=\"todayPos === 'center'\"\r\n           *ngIf=\"showTodayBtn\">\r\n        <button class=\"btn btn-success\" (click)=\"setToday()\">{{todayBtnLbl}}</button>\r\n      </div>\r\n\r\n        <div class=\"btn-clear-wrapper\"\r\n        [class.clear-left]=\"clearPos === 'left'\"\r\n        [class.clear-right]=\"clearPos === 'right'\"\r\n        [class.clear-center]=\"clearPos === 'center'\"\r\n        *ngIf=\"showClearBtn\">\r\n          <button class=\"btn btn-success\" (click)=\"clearDate()\">{{clearBtnLbl}}</button>\r\n        </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!--custom dates or date ranges picker-->\r\n  <div class=\"bs-datepicker-custom-range\" *ngIf=\"customRanges?.length > 0\">\r\n    <bs-custom-date-view\r\n      [selectedRange]=\"chosenRange\"\r\n      [ranges]=\"customRanges\"\r\n      [customRangeLabel]=\"customRangeBtnLbl\"\r\n      (onSelect)=\"setRangeOnCalendar($event)\">\r\n    </bs-custom-date-view>\r\n  </div>\r\n</div>\r\n","import { Component, ElementRef, EventEmitter, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\n\r\nimport { take } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { getFullYear, getMonth } from 'ngx-bootstrap/chronos';\r\nimport { PositioningService } from 'ngx-bootstrap/positioning';\r\n\r\nimport { datepickerAnimation } from '../../datepicker-animations';\r\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { CalendarCellViewModel, DayViewModel } from '../../models';\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\n\r\n@Component({\r\n  selector: 'bs-datepicker-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  templateUrl: './bs-datepicker-view.html',\r\n  host: {\r\n    class: 'bottom',\r\n    '(click)': '_stopPropagation($event)',\r\n    role: 'dialog',\r\n    'aria-label': 'calendar'\r\n  },\r\n  animations: [datepickerAnimation]\r\n})\r\nexport class BsDatepickerContainerComponent extends BsDatepickerAbstractComponent\r\n  implements OnInit, OnDestroy {\r\n\r\n  set value(value: Date) {\r\n    this._effects.setValue(value);\r\n  }\r\n\r\n  valueChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n  animationState = 'void';\r\n\r\n  _subs: Subscription[] = [];\r\n  constructor(\r\n    _renderer: Renderer2,\r\n    private _config: BsDatepickerConfig,\r\n    private _store: BsDatepickerStore,\r\n    private _element: ElementRef,\r\n    private _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects,\r\n    private _positionService: PositioningService\r\n  ) {\r\n    super();\r\n    this._effects = _effects;\r\n\r\n    _renderer.setStyle(_element.nativeElement, 'display', 'block');\r\n    _renderer.setStyle(_element.nativeElement, 'position', 'absolute');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._positionService.setOptions({\r\n      modifiers: { flip: { enabled: this._config.adaptivePosition } },\r\n      allowedPositions: ['top', 'bottom']\r\n    });\r\n\r\n    this._positionService.event$\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(() => {\r\n        this._positionService.disable();\r\n\r\n        if (this._config.isAnimated) {\r\n          this.animationState = this.isTopPosition ? 'animated-up' : 'animated-down';\r\n\r\n          return;\r\n        }\r\n\r\n        this.animationState = 'unanimated';\r\n      });\r\n\r\n    this.isOtherMonthsActive = this._config.selectFromOtherMonth;\r\n    this.containerClass = this._config.containerClass;\r\n    this.showTodayBtn = this._config.showTodayButton;\r\n    this.todayBtnLbl = this._config.todayButtonLabel;\r\n    this.todayPos = this._config.todayPosition;\r\n    this.showClearBtn = this._config.showClearButton;\r\n    this.clearBtnLbl = this._config.clearButtonLabel;\r\n    this.clearPos = this._config.clearPosition;\r\n    this.customRangeBtnLbl = this._config.customRangeButtonLabel;\r\n    this._effects\r\n      .init(this._store)\r\n      // intial state options\r\n      .setOptions(this._config)\r\n      // data binding view --> model\r\n      .setBindings(this)\r\n      // set event handlers\r\n      .setEventHandlers(this)\r\n      .registerDatepickerSideEffects();\r\n\r\n    // todo: move it somewhere else\r\n    // on selected date change\r\n    this._subs.push(\r\n      this._store\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        .select((state: any) => state.selectedDate)\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        .subscribe((date: any) => this.valueChange.emit(date))\r\n    );\r\n\r\n    this._store.dispatch(this._actions.changeViewMode(this._config.startView));\r\n  }\r\n\r\n  get isTopPosition(): boolean {\r\n    return this._element.nativeElement.classList.contains('top');\r\n  }\r\n\r\n  positionServiceEnable(): void {\r\n    this._positionService.enable();\r\n  }\r\n\r\n  daySelectHandler(day: DayViewModel): void {\r\n    if (!day) {\r\n     return;\r\n    }\r\n\r\n    const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\r\n\r\n    if (isDisabled) {\r\n      return;\r\n    }\r\n\r\n    this._store.dispatch(this._actions.select(day.date));\r\n  }\r\n\r\n  monthSelectHandler(day: CalendarCellViewModel): void {\r\n    if (!day || day.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    this._store.dispatch(\r\n      this._actions.navigateTo({\r\n        unit: {\r\n          month: getMonth(day.date),\r\n          year: getFullYear(day.date)\r\n        },\r\n        viewMode: 'day'\r\n      })\r\n    );\r\n  }\r\n\r\n  yearSelectHandler(day: CalendarCellViewModel): void {\r\n    if (!day || day.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    this._store.dispatch(\r\n      this._actions.navigateTo({\r\n        unit: {\r\n          year: getFullYear(day.date)\r\n        },\r\n        viewMode: 'month'\r\n      })\r\n    );\r\n  }\r\n\r\n  setToday(): void {\r\n    this._store.dispatch(this._actions.select(new Date()));\r\n  }\r\n\r\n  clearDate(): void {\r\n    this._store.dispatch(this._actions.select(undefined));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._effects.destroy();\r\n  }\r\n}\r\n","import {\r\n  ComponentRef, Directive, ElementRef, EventEmitter, Input, OnChanges,\r\n  OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewContainerRef, AfterViewInit\r\n} from '@angular/core';\r\nimport { ComponentLoader, ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\r\nimport { BsDatepickerContainerComponent } from './themes/bs/bs-datepicker-container.component';\r\nimport { Observable, Subscription, Subject, BehaviorSubject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { BsDatepickerViewMode, DatepickerDateCustomClasses, DatepickerDateTooltipText } from './models';\r\n\r\n@Directive({\r\n  selector: '[bsDatepicker]',\r\n  exportAs: 'bsDatepicker'\r\n})\r\nexport class BsDatepickerDirective implements OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n  /**\r\n   * Placement of a datepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers = 'click';\r\n  /**\r\n   * Close datepicker on outside click\r\n   */\r\n  @Input() outsideClick = true;\r\n  /**\r\n   * A selector specifying the element the datepicker should be appended to.\r\n   */\r\n  @Input() container = 'body';\r\n\r\n  @Input() outsideEsc = true;\r\n\r\n  /**\r\n   * Returns whether or not the datepicker is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._datepicker.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    this.isOpen$.next(value);\r\n  }\r\n\r\n  /**\r\n   * Emits an event when the datepicker is shown\r\n   */\r\n  @Output() onShown: EventEmitter<unknown>;\r\n  /**\r\n   * Emits an event when the datepicker is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<unknown>;\r\n\r\n  _bsValue: Date;\r\n  isOpen$: BehaviorSubject<boolean>;\r\n  isDestroy$: Subject<void>;\r\n  /**\r\n   * Initial value of datepicker\r\n   */\r\n  @Input()\r\n  set bsValue(value: Date) {\r\n    if (this._bsValue && value && this._bsValue.getTime() === value.getTime()) {\r\n      return;\r\n    }\r\n\r\n    if (!this._bsValue && value) {\r\n      const now = new Date();\r\n\r\n      value.setMilliseconds(now.getMilliseconds());\r\n      value.setSeconds(now.getSeconds());\r\n      value.setMinutes(now.getMinutes());\r\n      value.setHours(now.getHours());\r\n    }\r\n\r\n    this._bsValue = value;\r\n    this.bsValueChange.emit(value);\r\n  }\r\n\r\n  /**\r\n   * Config object for datepicker\r\n   */\r\n  @Input() set bsConfig(bsConfig: Partial<BsDatepickerConfig>) {\r\n    this._bsConfig = bsConfig;\r\n    this.setConfig();\r\n    this._dateInputFormat$.next(bsConfig && bsConfig.dateInputFormat);\r\n  }\r\n  get bsConfig(): Partial<BsDatepickerConfig> {\r\n    return this._bsConfig;\r\n  }\r\n  /**\r\n   * Indicates whether datepicker's content is enabled or not\r\n   */\r\n  @Input() isDisabled: boolean;\r\n  /**\r\n   * Minimum date which is available for selection\r\n   */\r\n  @Input() minDate: Date;\r\n  /**\r\n   * Maximum date which is available for selection\r\n   */\r\n  @Input() maxDate: Date;\r\n\r\n  /**\r\n   * Minimum view mode : day, month, or year\r\n   */\r\n  @Input() minMode: BsDatepickerViewMode;\r\n\r\n  /**\r\n   * Disable Certain days in the week\r\n   */\r\n  @Input() daysDisabled: number[];\r\n\r\n  /**\r\n   * Disable specific dates\r\n   */\r\n  @Input() datesDisabled: Date[];\r\n  /**\r\n   * Enable specific dates\r\n   */\r\n  @Input() datesEnabled: Date[];\r\n  /**\r\n   * Date custom classes\r\n   */\r\n  @Input() dateCustomClasses: DatepickerDateCustomClasses[];\r\n  /**\r\n   * Date tooltip text\r\n   */\r\n  @Input() dateTooltipTexts: DatepickerDateTooltipText[];\r\n  /**\r\n   * Emits when datepicker value has been changed\r\n   */\r\n  @Output() bsValueChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  get dateInputFormat$(): Observable<string> {\r\n    return this._dateInputFormat$;\r\n  }\r\n\r\n  protected _subs: Subscription[] = [];\r\n\r\n  private _datepicker: ComponentLoader<BsDatepickerContainerComponent>;\r\n  private _datepickerRef: ComponentRef<BsDatepickerContainerComponent>;\r\n  private _bsConfig: Partial<BsDatepickerConfig>;\r\n  private readonly _dateInputFormat$ = new Subject<string>();\r\n\r\n  constructor(public _config: BsDatepickerConfig,\r\n              private  _elementRef: ElementRef,\r\n              private  _renderer: Renderer2,\r\n              _viewContainerRef: ViewContainerRef,\r\n              cis: ComponentLoaderFactory) {\r\n    // todo: assign only subset of fields\r\n    Object.assign(this, this._config);\r\n    this._datepicker = cis.createLoader<BsDatepickerContainerComponent>(\r\n      _elementRef,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n    this.onShown = this._datepicker.onShown;\r\n    this.onHidden = this._datepicker.onHidden;\r\n    this.isOpen$ = new BehaviorSubject(this.isOpen);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.isDestroy$ = new Subject();\r\n    this._datepicker.listen({\r\n      outsideClick: this.outsideClick,\r\n      outsideEsc: this.outsideEsc,\r\n      triggers: this.triggers,\r\n      show: () => this.show()\r\n    });\r\n    this.setConfig();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\r\n      return;\r\n    }\r\n\r\n    if (changes.minDate) {\r\n      this._datepickerRef.instance.minDate = this.minDate;\r\n    }\r\n\r\n    if (changes.maxDate) {\r\n      this._datepickerRef.instance.maxDate = this.maxDate;\r\n    }\r\n\r\n    if (changes.daysDisabled) {\r\n      this._datepickerRef.instance.daysDisabled = this.daysDisabled;\r\n    }\r\n\r\n    if (changes.datesDisabled) {\r\n      this._datepickerRef.instance.datesDisabled = this.datesDisabled;\r\n    }\r\n\r\n    if (changes.datesEnabled) {\r\n      this._datepickerRef.instance.datesEnabled = this.datesEnabled;\r\n    }\r\n\r\n    if (changes.isDisabled) {\r\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\r\n    }\r\n\r\n    if (changes.dateCustomClasses) {\r\n      this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\r\n    }\r\n\r\n    if (changes.dateTooltipTexts) {\r\n      this._datepickerRef.instance.dateTooltipTexts = this.dateTooltipTexts;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.isOpen$.pipe(\r\n      filter(isOpen => isOpen !== this.isOpen),\r\n      takeUntil(this.isDestroy$)\r\n    )\r\n    .subscribe(() => this.toggle());\r\n  }\r\n\r\n  /**\r\n   * Opens an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  show(): void {\r\n    if (this._datepicker.isShown) {\r\n      return;\r\n    }\r\n\r\n    this.setConfig();\r\n\r\n    this._datepickerRef = this._datepicker\r\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\r\n      .attach(BsDatepickerContainerComponent)\r\n      .to(this.container)\r\n      .position({attachment: this.placement})\r\n      .show({placement: this.placement});\r\n\r\n    // if date changes from external source (model -> view)\r\n    this._subs.push(\r\n      this.bsValueChange.subscribe((value: Date) => {\r\n        this._datepickerRef.instance.value = value;\r\n      })\r\n    );\r\n\r\n    // if date changes from picker (view -> model)\r\n    this._subs.push(\r\n      this._datepickerRef.instance.valueChange.subscribe((value: Date) => {\r\n        this.bsValue = value;\r\n        this.hide();\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Closes an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  hide(): void {\r\n    if (this.isOpen) {\r\n      this._datepicker.hide();\r\n    }\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n\r\n    if (this._config.returnFocusToInput) {\r\n      this._renderer.selectRootElement(this._elementRef.nativeElement).focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an element’s datepicker. This is considered a “manual” triggering\r\n   * of the datepicker.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen) {\r\n      return this.hide();\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  /**\r\n   * Set config for datepicker\r\n   */\r\n  setConfig(): void {\r\n    this._config = Object.assign({}, this._config, this.bsConfig, {\r\n      value: this._bsValue,\r\n      isDisabled: this.isDisabled,\r\n      minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\r\n      maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\r\n      daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\r\n      dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\r\n      dateTooltipTexts: this.dateTooltipTexts || this.bsConfig && this.bsConfig.dateTooltipTexts,\r\n      datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\r\n      datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\r\n      minMode: this.minMode || this.bsConfig && this.bsConfig.minMode\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._datepicker.dispose();\r\n    this.isOpen$.next(false);\r\n    if (this.isDestroy$) {\r\n      this.isDestroy$.next();\r\n      this.isDestroy$.complete();\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BsDatepickerInlineConfig extends BsDatepickerConfig { }\r\n","import { Component, ElementRef, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { BsDatepickerContainerComponent } from './bs-datepicker-container.component';\r\n\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\n\r\nimport { PositioningService } from 'ngx-bootstrap/positioning';\r\nimport { datepickerAnimation } from '../../datepicker-animations';\r\n\r\n@Component({\r\n  selector: 'bs-datepicker-inline-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  templateUrl: './bs-datepicker-view.html',\r\n  host: {\r\n    '(click)': '_stopPropagation($event)'\r\n  },\r\n  animations: [datepickerAnimation]\r\n})\r\nexport class BsDatepickerInlineContainerComponent extends BsDatepickerContainerComponent\r\n  implements OnInit, OnDestroy {\r\n\r\n  constructor(\r\n    _renderer: Renderer2,\r\n    _config: BsDatepickerConfig,\r\n    _store: BsDatepickerStore,\r\n    _element: ElementRef,\r\n    _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects,\r\n    _positioningService: PositioningService\r\n  ) {\r\n    super(_renderer, _config, _store, _element, _actions, _effects, _positioningService);\r\n\r\n    _renderer.setStyle(_element.nativeElement, 'display', 'inline-block');\r\n    _renderer.setStyle(_element.nativeElement, 'position', 'static');\r\n  }\r\n}\r\n","import {\r\n  ComponentRef, Directive, ElementRef, EventEmitter, Input, OnChanges,\r\n  OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { ComponentLoader, ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { BsDatepickerInlineConfig } from './bs-datepicker-inline.config';\r\nimport { BsDatepickerInlineContainerComponent } from './themes/bs/bs-datepicker-inline-container.component';\r\nimport { DatepickerDateCustomClasses, DatepickerDateTooltipText } from './models';\r\n\r\n@Directive({\r\n  selector: 'bs-datepicker-inline',\r\n  exportAs: 'bsDatepickerInline'\r\n})\r\nexport class BsDatepickerInlineDirective implements OnInit, OnDestroy, OnChanges {\r\n  _bsValue: Date;\r\n  /**\r\n   * Initial value of datepicker\r\n   */\r\n  @Input()\r\n  set bsValue(value: Date) {\r\n    if (this._bsValue === value) {\r\n      return;\r\n    }\r\n\r\n    if (!this._bsValue && value) {\r\n      const now = new Date();\r\n\r\n      value.setMilliseconds(now.getMilliseconds());\r\n      value.setSeconds(now.getSeconds());\r\n      value.setMinutes(now.getMinutes());\r\n      value.setHours(now.getHours());\r\n    }\r\n\r\n    this._bsValue = value;\r\n    this.bsValueChange.emit(value);\r\n  }\r\n\r\n  /**\r\n   * Config object for datepicker\r\n   */\r\n  @Input() bsConfig: Partial<BsDatepickerInlineConfig>;\r\n  /**\r\n   * Indicates whether datepicker is enabled or not\r\n   */\r\n  @Input() isDisabled: boolean;\r\n  /**\r\n   * Minimum date which is available for selection\r\n   */\r\n  @Input() minDate: Date;\r\n  /**\r\n   * Maximum date which is available for selection\r\n   */\r\n  @Input() maxDate: Date;\r\n  /**\r\n   * Date custom classes\r\n   */\r\n  @Input() dateCustomClasses: DatepickerDateCustomClasses[];\r\n  /**\r\n   * Date tooltip text\r\n   */\r\n  @Input() dateTooltipTexts: DatepickerDateTooltipText[];\r\n  /**\r\n   * Disable specific dates\r\n   */\r\n  @Input() datesEnabled: Date[];\r\n  /**\r\n   * Enable specific dates\r\n   */\r\n  @Input() datesDisabled: Date[];\r\n  /**\r\n   * Emits when datepicker value has been changed\r\n   */\r\n  @Output() bsValueChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  protected _subs: Subscription[] = [];\r\n\r\n  private _datepicker: ComponentLoader<BsDatepickerInlineContainerComponent>;\r\n  private _datepickerRef: ComponentRef<BsDatepickerInlineContainerComponent>;\r\n\r\n  constructor(\r\n    public _config: BsDatepickerInlineConfig,\r\n    private _elementRef: ElementRef,\r\n    _renderer: Renderer2,\r\n    _viewContainerRef: ViewContainerRef,\r\n    cis: ComponentLoaderFactory\r\n  ) {\r\n    // todo: assign only subset of fields\r\n    Object.assign(this, this._config);\r\n    this._datepicker = cis.createLoader<BsDatepickerInlineContainerComponent>(\r\n      _elementRef,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setConfig();\r\n\r\n    // if date changes from external source (model -> view)\r\n    this._subs.push(\r\n      this.bsValueChange.subscribe((value: Date) => {\r\n        this._datepickerRef.instance.value = value;\r\n      })\r\n    );\r\n\r\n    // if date changes from picker (view -> model)\r\n    this._subs.push(\r\n      this._datepickerRef.instance.valueChange.subscribe((value: Date) => {\r\n        this.bsValue = value;\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\r\n      return;\r\n    }\r\n\r\n    if (changes.minDate) {\r\n      this._datepickerRef.instance.minDate = this.minDate;\r\n      this.setConfig();\r\n    }\r\n\r\n    if (changes.maxDate) {\r\n      this._datepickerRef.instance.maxDate = this.maxDate;\r\n      this.setConfig();\r\n    }\r\n\r\n    if (changes.datesDisabled) {\r\n      this._datepickerRef.instance.datesDisabled = this.datesDisabled;\r\n      this.setConfig();\r\n    }\r\n\r\n    if (changes.datesEnabled) {\r\n      this._datepickerRef.instance.datesEnabled = this.datesEnabled;\r\n      this._datepickerRef.instance.value = this._bsValue;\r\n    }\r\n\r\n    if (changes.isDisabled) {\r\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\r\n      this.setConfig();\r\n    }\r\n\r\n    if (changes.dateCustomClasses) {\r\n      this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\r\n      this.setConfig();\r\n    }\r\n\r\n    if (changes.dateTooltipTexts) {\r\n      this._datepickerRef.instance.dateTooltipTexts = this.dateTooltipTexts;\r\n      this.setConfig();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set config for datepicker\r\n   */\r\n  setConfig(): void {\r\n    if (this._datepicker) {\r\n      this._datepicker.hide();\r\n    }\r\n\r\n    this._config = Object.assign({}, this._config, this.bsConfig, {\r\n      value: this._bsValue,\r\n      isDisabled: this.isDisabled,\r\n      minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\r\n      maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\r\n      dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\r\n      dateTooltipTexts: this.dateTooltipTexts || this.bsConfig && this.bsConfig.dateTooltipTexts,\r\n      datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\r\n      datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled\r\n    });\r\n\r\n\r\n    this._datepickerRef = this._datepicker\r\n      .provide({provide: BsDatepickerConfig, useValue: this._config})\r\n      .attach(BsDatepickerInlineContainerComponent)\r\n      .to(this._elementRef)\r\n      .show();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._datepicker.dispose();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BsDaterangepickerInlineConfig extends BsDatepickerConfig {\r\n    // DatepickerRenderOptions\r\n    displayMonths = 2;\r\n    /** turn on/off animation */\r\n    isAnimated = false;\r\n}\r\n","import { Component, ElementRef, EventEmitter, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\n\r\nimport { take } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { getFullYear, getMonth } from 'ngx-bootstrap/chronos';\r\nimport { PositioningService } from 'ngx-bootstrap/positioning';\r\n\r\nimport { BsDatepickerAbstractComponent } from '../../base/bs-datepicker-container';\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { CalendarCellViewModel, DayViewModel } from '../../models';\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\nimport { datepickerAnimation } from '../../datepicker-animations';\r\nimport { BsCustomDates } from './bs-custom-dates-view.component';\r\n\r\n@Component({\r\n  selector: 'bs-daterangepicker-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  templateUrl: './bs-datepicker-view.html',\r\n  host: {\r\n    class: 'bottom',\r\n    '(click)': '_stopPropagation($event)',\r\n    role: 'dialog',\r\n    'aria-label': 'calendar'\r\n  },\r\n  animations: [datepickerAnimation]\r\n})\r\nexport class BsDaterangepickerContainerComponent extends BsDatepickerAbstractComponent\r\n  implements OnInit, OnDestroy {\r\n  set value(value: Date[]) {\r\n    this._effects.setRangeValue(value);\r\n  }\r\n\r\n  valueChange = new EventEmitter<Date[]>();\r\n  animationState = 'void';\r\n\r\n  _rangeStack: Date[] = [];\r\n  chosenRange: Date[] = [];\r\n  _subs: Subscription[] = [];\r\n\r\n  constructor(\r\n    _renderer: Renderer2,\r\n    private _config: BsDatepickerConfig,\r\n    private _store: BsDatepickerStore,\r\n    private _element: ElementRef,\r\n    private _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects,\r\n    private _positionService: PositioningService\r\n  ) {\r\n    super();\r\n    this._effects = _effects;\r\n\r\n    this.customRanges = this._config.ranges;\r\n    this.customRangeBtnLbl = this._config.customRangeButtonLabel;\r\n\r\n    _renderer.setStyle(_element.nativeElement, 'display', 'block');\r\n    _renderer.setStyle(_element.nativeElement, 'position', 'absolute');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._positionService.setOptions({\r\n      modifiers: { flip: { enabled: this._config.adaptivePosition } },\r\n      allowedPositions: ['top', 'bottom']\r\n    });\r\n\r\n    this._positionService.event$\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(() => {\r\n        this._positionService.disable();\r\n\r\n        if (this._config.isAnimated) {\r\n          this.animationState = this.isTopPosition ? 'animated-up' : 'animated-down';\r\n\r\n          return;\r\n        }\r\n\r\n        this.animationState = 'unanimated';\r\n      });\r\n    this.containerClass = this._config.containerClass;\r\n    this.isOtherMonthsActive = this._config.selectFromOtherMonth;\r\n    this._effects\r\n      .init(this._store)\r\n      // intial state options\r\n      // todo: fix this, split configs\r\n      .setOptions(this._config)\r\n      // data binding view --> model\r\n      .setBindings(this)\r\n      // set event handlers\r\n      .setEventHandlers(this)\r\n      .registerDatepickerSideEffects();\r\n\r\n    // todo: move it somewhere else\r\n    // on selected date change\r\n    this._subs.push(\r\n      this._store\r\n        .select(state => state.selectedRange)\r\n        .subscribe(date => {\r\n          this.valueChange.emit(date);\r\n          this.chosenRange = date;\r\n        })\r\n    );\r\n  }\r\n\r\n  get isTopPosition(): boolean {\r\n    return this._element.nativeElement.classList.contains('top');\r\n  }\r\n\r\n  positionServiceEnable(): void {\r\n    this._positionService.enable();\r\n  }\r\n\r\n  daySelectHandler(day: DayViewModel): void {\r\n    if (!day) {\r\n      return;\r\n    }\r\n    const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\r\n\r\n    if (isDisabled) {\r\n      return;\r\n    }\r\n    this.rangesProcessing(day);\r\n  }\r\n\r\n  monthSelectHandler(day: CalendarCellViewModel): void {\r\n    if (!day) {\r\n      return;\r\n    }\r\n\r\n    day.isSelected = true;\r\n\r\n    if (this._config.minMode !== 'month') {\r\n      if (day.isDisabled) {\r\n        return;\r\n      }\r\n      this._store.dispatch(\r\n        this._actions.navigateTo({\r\n          unit: {\r\n            month: getMonth(day.date),\r\n            year: getFullYear(day.date)\r\n          },\r\n          viewMode: 'day'\r\n        })\r\n      );\r\n\r\n      return;\r\n    }\r\n    this.rangesProcessing(day);\r\n  }\r\n\r\n  yearSelectHandler(day: CalendarCellViewModel): void {\r\n    if (!day) {\r\n      return;\r\n    }\r\n\r\n    day.isSelected = true;\r\n\r\n    if (this._config.minMode !== 'year') {\r\n      if (day.isDisabled) {\r\n        return;\r\n      }\r\n      this._store.dispatch(\r\n        this._actions.navigateTo({\r\n          unit: {\r\n            year: getFullYear(day.date)\r\n          },\r\n          viewMode: 'month'\r\n        })\r\n      );\r\n\r\n      return;\r\n    }\r\n    this.rangesProcessing(day);\r\n  }\r\n\r\n  rangesProcessing(day: CalendarCellViewModel): void {\r\n    // if only one date is already selected\r\n    // and user clicks on previous date\r\n    // start selection from new date\r\n    // but if new date is after initial one\r\n    // than finish selection\r\n\r\n    if (this._rangeStack.length === 1) {\r\n      this._rangeStack =\r\n        day.date >= this._rangeStack[0]\r\n          ? [this._rangeStack[0], day.date]\r\n          :  [day.date];\r\n    }\r\n\r\n    if (this._rangeStack.length === 0) {\r\n      this._rangeStack = [day.date];\r\n\r\n      if (this._config.maxDateRange) {\r\n        this.setMaxDateRangeOnCalendar(day.date);\r\n      }\r\n    }\r\n\r\n    this._store.dispatch(this._actions.selectRange(this._rangeStack));\r\n\r\n    if (this._rangeStack.length === 2) {\r\n      this._rangeStack = [];\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n    this._effects.destroy();\r\n  }\r\n\r\n  setRangeOnCalendar(dates: BsCustomDates): void {\r\n    this._rangeStack = (dates === null) ? [] : (dates.value instanceof Date ? [dates.value] : dates.value);\r\n    this._store.dispatch(this._actions.selectRange(this._rangeStack));\r\n  }\r\n\r\n  setMaxDateRangeOnCalendar(currentSelection: Date): void {\r\n    const maxDateRange = new Date(currentSelection);\r\n    maxDateRange.setDate(currentSelection.getDate() + this._config.maxDateRange);\r\n    this._effects.setMaxDate(maxDateRange);\r\n  }\r\n\r\n}\r\n","import { OnInit, OnDestroy, ElementRef, Component, Renderer2 } from '@angular/core';\r\nimport { BsDaterangepickerContainerComponent } from './bs-daterangepicker-container.component';\r\n\r\nimport { BsDatepickerActions } from '../../reducer/bs-datepicker.actions';\r\nimport { BsDatepickerConfig } from '../../bs-datepicker.config';\r\nimport { BsDatepickerEffects } from '../../reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from '../../reducer/bs-datepicker.store';\r\n\r\nimport { PositioningService } from 'ngx-bootstrap/positioning';\r\nimport { datepickerAnimation } from '../../datepicker-animations';\r\n\r\n@Component({\r\n  selector: 'bs-daterangepicker-inline-container',\r\n  providers: [BsDatepickerStore, BsDatepickerEffects],\r\n  templateUrl: './bs-datepicker-view.html',\r\n  host: {\r\n    '(click)': '_stopPropagation($event)'\r\n  },\r\n  animations: [datepickerAnimation]\r\n})\r\nexport class BsDaterangepickerInlineContainerComponent extends BsDaterangepickerContainerComponent\r\n  implements OnInit, OnDestroy {\r\n\r\n  constructor(\r\n    _renderer: Renderer2,\r\n    _config: BsDatepickerConfig,\r\n    _store: BsDatepickerStore,\r\n    _element: ElementRef,\r\n    _actions: BsDatepickerActions,\r\n    _effects: BsDatepickerEffects,\r\n    _positioningService: PositioningService\r\n  ) {\r\n    super(_renderer, _config, _store, _element, _actions, _effects, _positioningService);\r\n\r\n    _renderer.setStyle(_element.nativeElement, 'display', 'inline-block');\r\n    _renderer.setStyle(_element.nativeElement, 'position', 'static');\r\n  }\r\n}\r\n","import {\r\n  ComponentRef, Directive, ElementRef, EventEmitter, Input, OnChanges,\r\n  OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { ComponentLoader, ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\r\n\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { BsDaterangepickerInlineConfig } from './bs-daterangepicker-inline.config';\r\nimport { BsDaterangepickerInlineContainerComponent } from './themes/bs/bs-daterangepicker-inline-container.component';\r\nimport { DatepickerDateCustomClasses } from './models';\r\n\r\n@Directive({\r\n    selector: 'bs-daterangepicker-inline',\r\n    exportAs: 'bsDaterangepickerInline'\r\n})\r\nexport class BsDaterangepickerInlineDirective implements OnInit, OnDestroy, OnChanges {\r\n    _bsValue: Date[];\r\n    /**\r\n     * Initial value of datepicker\r\n     */\r\n    @Input()\r\n    set bsValue(value: Date[]) {\r\n      if (this._bsValue === value) {\r\n        return;\r\n      }\r\n      this._bsValue = value;\r\n      this.bsValueChange.emit(value);\r\n    }\r\n\r\n    /**\r\n     * Config object for datepicker\r\n     */\r\n    @Input() bsConfig: Partial<BsDaterangepickerInlineConfig>;\r\n    /**\r\n     * Indicates whether datepicker is enabled or not\r\n     */\r\n    @Input() isDisabled: boolean;\r\n    /**\r\n     * Minimum date which is available for selection\r\n     */\r\n    @Input() minDate: Date;\r\n    /**\r\n     * Maximum date which is available for selection\r\n     */\r\n    @Input() maxDate: Date;\r\n    /**\r\n     * Date custom classes\r\n     */\r\n    @Input() dateCustomClasses: DatepickerDateCustomClasses[];\r\n    /**\r\n     * Disable specific days, e.g. [0,6] will disable all Saturdays and Sundays\r\n     */\r\n    @Input() daysDisabled?: number[];\r\n    /**\r\n     * Disable specific dates\r\n     */\r\n    @Input() datesDisabled: Date[];\r\n    /**\r\n     * Disable specific dates\r\n     */\r\n    @Input() datesEnabled: Date[];\r\n    /**\r\n     * Emits when daterangepicker value has been changed\r\n     */\r\n    @Output() bsValueChange: EventEmitter<Date[]> = new EventEmitter();\r\n\r\n    protected _subs: Subscription[] = [];\r\n\r\n    private _datepicker: ComponentLoader<BsDaterangepickerInlineContainerComponent>;\r\n    private _datepickerRef: ComponentRef<BsDaterangepickerInlineContainerComponent>;\r\n\r\n    constructor(\r\n      public _config: BsDaterangepickerInlineConfig,\r\n      private _elementRef: ElementRef,\r\n      _renderer: Renderer2,\r\n      _viewContainerRef: ViewContainerRef,\r\n      cis: ComponentLoaderFactory\r\n    ) {\r\n      // todo: assign only subset of fields\r\n      Object.assign(this, this._config);\r\n      this._datepicker = cis.createLoader<BsDaterangepickerInlineContainerComponent>(\r\n        _elementRef,\r\n        _viewContainerRef,\r\n        _renderer\r\n      );\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.setConfig();\r\n\r\n        // if date changes from external source (model -> view)\r\n        this._subs.push(\r\n          this.bsValueChange.subscribe((value: Date[]) => {\r\n            this._datepickerRef.instance.value = value;\r\n          })\r\n        );\r\n\r\n        // if date changes from picker (view -> model)\r\n        this._subs.push(\r\n          this._datepickerRef.instance.valueChange\r\n            .pipe(\r\n                filter((range: Date[]) => range && range[0] && !!range[1])\r\n            )\r\n            .subscribe((value: Date[]) => {\r\n              this.bsValue = value;\r\n            })\r\n        );\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (!this._datepickerRef || !this._datepickerRef.instance) {\r\n          return;\r\n        }\r\n\r\n        if (changes.minDate) {\r\n          this._datepickerRef.instance.minDate = this.minDate;\r\n          this.setConfig();\r\n        }\r\n\r\n        if (changes.maxDate) {\r\n          this._datepickerRef.instance.maxDate = this.maxDate;\r\n          this.setConfig();\r\n        }\r\n\r\n        if (changes.datesEnabled) {\r\n          this._datepickerRef.instance.datesEnabled = this.datesEnabled;\r\n        }\r\n\r\n        if (changes.datesDisabled) {\r\n          this._datepickerRef.instance.datesDisabled = this.datesDisabled;\r\n          this.setConfig();\r\n        }\r\n\r\n        if (changes.daysDisabled) {\r\n          this._datepickerRef.instance.daysDisabled = this.daysDisabled;\r\n          this.setConfig();\r\n        }\r\n\r\n        if (changes.isDisabled) {\r\n          this._datepickerRef.instance.isDisabled = this.isDisabled;\r\n          this.setConfig();\r\n        }\r\n\r\n        if (changes.dateCustomClasses) {\r\n          this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\r\n          this.setConfig();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set config for datepicker\r\n     */\r\n    setConfig(): void {\r\n      if (this._datepicker) {\r\n        this._datepicker.hide();\r\n      }\r\n\r\n      this._config = Object.assign({}, this._config, this.bsConfig, {\r\n        value: this._bsValue,\r\n        isDisabled: this.isDisabled,\r\n        minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\r\n        maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\r\n        daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\r\n        dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\r\n        datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\r\n        datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\r\n        ranges: this.bsConfig && this.bsConfig.ranges,\r\n        maxDateRange: this.bsConfig && this.bsConfig.maxDateRange\r\n      });\r\n\r\n\r\n      this._datepickerRef = this._datepicker\r\n        .provide({provide: BsDatepickerConfig, useValue: this._config})\r\n        .attach(BsDaterangepickerInlineContainerComponent)\r\n        .to(this._elementRef)\r\n        .show();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n      this._datepicker.dispose();\r\n    }\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  ElementRef,\r\n  forwardRef,\r\n  Host,\r\n  OnDestroy,\r\n  OnInit,\r\n  Provider,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport {\r\n  AbstractControl,\r\n  ControlValueAccessor,\r\n  NG_VALIDATORS,\r\n  NG_VALUE_ACCESSOR,\r\n  ValidationErrors,\r\n  Validator\r\n} from '@angular/forms';\r\n\r\nimport {\r\n  formatDate,\r\n  getLocale,\r\n  isAfter,\r\n  isBefore,\r\n  isDate,\r\n  isDateValid,\r\n  parseDate,\r\n  utcAsLocal\r\n} from 'ngx-bootstrap/chronos';\r\n\r\nimport { BsDatepickerDirective } from './bs-datepicker.component';\r\nimport { BsLocaleService } from './bs-locale.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\nconst BS_DATEPICKER_VALUE_ACCESSOR: Provider = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => BsDatepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\nconst BS_DATEPICKER_VALIDATOR: Provider = {\r\n  provide: NG_VALIDATORS,\r\n    useExisting: forwardRef(() => BsDatepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\n@Directive({\r\n  selector: `input[bsDatepicker]`,\r\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\r\n  host: {\r\n    '(change)': 'onChange($event)',\r\n    '(keyup.esc)': 'hide()',\r\n    '(keydown)': 'onKeydownEvent($event)',\r\n    '(blur)': 'onBlur()'\r\n  },\r\n  providers: [BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR]\r\n})\r\nexport class BsDatepickerInputDirective\r\n  implements ControlValueAccessor, Validator, OnInit, OnDestroy {\r\n  private _onChange = Function.prototype;\r\n  private _onTouched = Function.prototype;\r\n    private _validatorChange = Function.prototype;\r\n  private _value: Date;\r\n  private _subs = new Subscription();\r\n\r\n  constructor(@Host() private _picker: BsDatepickerDirective,\r\n              private _localeService: BsLocaleService,\r\n              private _renderer: Renderer2,\r\n              private _elRef: ElementRef,\r\n              private changeDetection: ChangeDetectorRef) {}\r\n\r\n  ngOnInit() {\r\n    // update input value on datepicker value update\r\n    this._subs.add(\r\n      this._picker.bsValueChange.subscribe((value: Date) => {\r\n        this._setInputValue(value);\r\n        if (this._value !== value) {\r\n          this._value = value;\r\n          this._onChange(value);\r\n          this._onTouched();\r\n        }\r\n        this.changeDetection.markForCheck();\r\n      })\r\n    );\r\n\r\n    // update input value on locale change\r\n    this._subs.add(\r\n      this._localeService.localeChange.subscribe(() => {\r\n        this._setInputValue(this._value);\r\n      })\r\n    );\r\n\r\n    this._subs.add(\r\n    this._picker.dateInputFormat$.pipe(distinctUntilChanged()).subscribe(() => {\r\n      this._setInputValue(this._value);\r\n    })\r\n  );\r\n}\r\n\r\n  ngOnDestroy() {\r\n    this._subs.unsubscribe();\r\n  }\r\n\r\n  onKeydownEvent(event) {\r\n    if (event.keyCode === 13 || event.code === 'Enter') {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  _setInputValue(value: Date): void {\r\n    const initialDate = !value ? ''\r\n      : formatDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\r\n\r\n    this._renderer.setProperty(this._elRef.nativeElement, 'value', initialDate);\r\n  }\r\n\r\n  onChange(event: Event) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    this.writeValue((event.target as any).value);\r\n    this._onChange(this._value);\r\n    if (this._picker._config.returnFocusToInput) {\r\n      this._renderer.selectRootElement(this._elRef.nativeElement).focus();\r\n    }\r\n    this._onTouched();\r\n  }\r\n\r\n  validate(c: AbstractControl): ValidationErrors | null {\r\n    const _value: Date | string = c.value;\r\n\r\n        if (_value === null || _value === undefined || _value === '') {\r\n      return null;\r\n    }\r\n\r\n    if (isDate(_value)) {\r\n      const _isDateValid = isDateValid(_value);\r\n      if (!_isDateValid) {\r\n        return { bsDate: { invalid: _value } };\r\n      }\r\n\r\n      if (this._picker && this._picker.minDate && isBefore(_value, this._picker.minDate, 'date')) {\r\n        this.writeValue(this._picker.minDate);\r\n\r\n        return { bsDate: { minDate: this._picker.minDate } };\r\n      }\r\n\r\n      if (this._picker && this._picker.maxDate && isAfter(_value, this._picker.maxDate, 'date')) {\r\n        this.writeValue(this._picker.maxDate);\r\n\r\n        return { bsDate: { maxDate: this._picker.maxDate } };\r\n      }\r\n    }\r\n  }\r\n\r\n  registerOnValidatorChange(fn: () => void): void {\r\n    this._validatorChange = fn;\r\n  }\r\n\r\n  writeValue(value: Date | string) {\r\n    if (!value) {\r\n      this._value = null;\r\n    } else {\r\n      const _localeKey = this._localeService.currentLocale;\r\n      const _locale = getLocale(_localeKey);\r\n      if (!_locale) {\r\n        throw new Error(\r\n          `Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`\r\n        );\r\n      }\r\n\r\n      this._value = parseDate(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\r\n\r\n      if (this._picker._config.useUtc) {\r\n        this._value = utcAsLocal(this._value);\r\n      }\r\n    }\r\n\r\n    this._picker.bsValue = this._value;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this._picker.isDisabled = isDisabled;\r\n    if (isDisabled) {\r\n      this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\r\n\r\n      return;\r\n    }\r\n    this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\r\n  }\r\n\r\n  registerOnChange(fn: () => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  onBlur() {\r\n    this._onTouched();\r\n  }\r\n\r\n  hide() {\r\n    this._picker.hide();\r\n    this._renderer.selectRootElement(this._elRef.nativeElement).blur();\r\n    if (this._picker._config.returnFocusToInput) {\r\n      this._renderer.selectRootElement(this._elRef.nativeElement).focus();\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BsDaterangepickerConfig extends BsDatepickerConfig {\r\n  // DatepickerRenderOptions\r\n  displayMonths = 2;\r\n}\r\n","import { AfterViewInit, ComponentRef,\r\n  Directive, ElementRef, EventEmitter,\r\n  Input, OnChanges, OnDestroy, OnInit,\r\n  Output, Renderer2, SimpleChanges,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { BsDaterangepickerConfig } from './bs-daterangepicker.config';\r\nimport { BsDaterangepickerContainerComponent } from './themes/bs/bs-daterangepicker-container.component';\r\nimport { Observable, Subscription, Subject, BehaviorSubject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\nimport { ComponentLoaderFactory, ComponentLoader } from 'ngx-bootstrap/component-loader';\r\nimport { BsDatepickerConfig } from './bs-datepicker.config';\r\nimport { DatepickerDateCustomClasses } from './models';\r\n\r\n@Directive({\r\n  selector: '[bsDaterangepicker]',\r\n  exportAs: 'bsDaterangepicker'\r\n})\r\nexport class BsDaterangepickerDirective\r\n  implements OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n  /**\r\n   * Placement of a daterangepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\r\n   */\r\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of\r\n   * event names.\r\n   */\r\n  @Input() triggers = 'click';\r\n  /**\r\n   * Close daterangepicker on outside click\r\n   */\r\n  @Input() outsideClick = true;\r\n  /**\r\n   * A selector specifying the element the daterangepicker should be appended to.\r\n   */\r\n  @Input() container = 'body';\r\n\r\n  @Input() outsideEsc = true;\r\n\r\n  /**\r\n   * Returns whether or not the daterangepicker is currently being shown\r\n   */\r\n  @Input()\r\n  get isOpen(): boolean {\r\n    return this._datepicker.isShown;\r\n  }\r\n\r\n  set isOpen(value: boolean) {\r\n    this.isOpen$.next(value);\r\n  }\r\n\r\n  /**\r\n   * Emits an event when the daterangepicker is shown\r\n   */\r\n  @Output() onShown: EventEmitter<unknown>;\r\n  /**\r\n   * Emits an event when the daterangepicker is hidden\r\n   */\r\n  @Output() onHidden: EventEmitter<unknown>;\r\n\r\n  _bsValue: Date[];\r\n  isOpen$: BehaviorSubject<boolean>;\r\n  isDestroy$: Subject<void>;\r\n\r\n  /**\r\n   * Initial value of daterangepicker\r\n   */\r\n  @Input()\r\n  set bsValue(value: Date[]) {\r\n    if (this._bsValue === value) {\r\n      return;\r\n    }\r\n    this._bsValue = value;\r\n    this.bsValueChange.emit(value);\r\n  }\r\n\r\n  /**\r\n   * Config object for daterangepicker\r\n   */\r\n  @Input() set bsConfig(bsConfig: Partial<BsDaterangepickerConfig>) {\r\n    this._bsConfig = bsConfig;\r\n    this.setConfig();\r\n    this._rangeInputFormat$.next(bsConfig && bsConfig.rangeInputFormat);\r\n  }\r\n  get bsConfig(): Partial<BsDaterangepickerConfig> {\r\n    return this._bsConfig;\r\n  }\r\n  /**\r\n   * Indicates whether daterangepicker's content is enabled or not\r\n   */\r\n  @Input() isDisabled: boolean;\r\n  /**\r\n   * Minimum date which is available for selection\r\n   */\r\n  @Input() minDate: Date;\r\n  /**\r\n   * Maximum date which is available for selection\r\n   */\r\n  @Input() maxDate: Date;\r\n  /**\r\n   * Date custom classes\r\n   */\r\n  @Input() dateCustomClasses: DatepickerDateCustomClasses[];\r\n  /**\r\n   * Disable specific days, e.g. [0,6] will disable all Saturdays and Sundays\r\n   */\r\n  @Input() daysDisabled?: number[];\r\n  /**\r\n   * Disable specific dates\r\n   */\r\n  @Input() datesDisabled: Date[];\r\n\r\n  /**\r\n   * Enable specific dates\r\n   */\r\n  @Input() datesEnabled: Date[];\r\n  /**\r\n   * Emits when daterangepicker value has been changed\r\n   */\r\n  @Output() bsValueChange: EventEmitter<Date[]> = new EventEmitter();\r\n\r\n  get rangeInputFormat$(): Observable<string> {\r\n    return this._rangeInputFormat$;\r\n  }\r\n\r\n  protected _subs: Subscription[] = [];\r\n  private _datepicker: ComponentLoader<BsDaterangepickerContainerComponent>;\r\n  private _datepickerRef: ComponentRef<BsDaterangepickerContainerComponent>;\r\n  private _bsConfig: Partial<BsDaterangepickerConfig>;\r\n  private readonly _rangeInputFormat$ = new Subject<string>();\r\n\r\n  constructor(public _config: BsDaterangepickerConfig,\r\n              private  _elementRef: ElementRef,\r\n              private  _renderer: Renderer2,\r\n              _viewContainerRef: ViewContainerRef,\r\n              cis: ComponentLoaderFactory) {\r\n    this._datepicker = cis.createLoader<BsDaterangepickerContainerComponent>(\r\n      _elementRef,\r\n      _viewContainerRef,\r\n      _renderer\r\n    );\r\n    Object.assign(this, _config);\r\n    this.onShown = this._datepicker.onShown;\r\n    this.onHidden = this._datepicker.onHidden;\r\n    this.isOpen$ = new BehaviorSubject(this.isOpen);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.isDestroy$ = new Subject();\r\n    this._datepicker.listen({\r\n      outsideClick: this.outsideClick,\r\n      outsideEsc: this.outsideEsc,\r\n      triggers: this.triggers,\r\n      show: () => this.show()\r\n    });\r\n    this.setConfig();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!this._datepickerRef || !this._datepickerRef.instance) {\r\n      return;\r\n    }\r\n    if (changes.minDate) {\r\n      this._datepickerRef.instance.minDate = this.minDate;\r\n    }\r\n    if (changes.maxDate) {\r\n      this._datepickerRef.instance.maxDate = this.maxDate;\r\n    }\r\n    if (changes.datesDisabled) {\r\n      this._datepickerRef.instance.datesDisabled = this.datesDisabled;\r\n    }\r\n    if (changes.datesEnabled) {\r\n      this._datepickerRef.instance.datesEnabled = this.datesEnabled;\r\n    }\r\n    if (changes.daysDisabled) {\r\n      this._datepickerRef.instance.daysDisabled = this.daysDisabled;\r\n    }\r\n    if (changes.isDisabled) {\r\n      this._datepickerRef.instance.isDisabled = this.isDisabled;\r\n    }\r\n    if (changes.dateCustomClasses) {\r\n      this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.isOpen$.pipe(\r\n      filter(isOpen => isOpen !== this.isOpen),\r\n      takeUntil(this.isDestroy$)\r\n    )\r\n      .subscribe(() => this.toggle());\r\n  }\r\n\r\n  /**\r\n   * Opens an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  show(): void {\r\n    if (this._datepicker.isShown) {\r\n      return;\r\n    }\r\n\r\n    this.setConfig();\r\n\r\n    this._datepickerRef = this._datepicker\r\n      .provide({ provide: BsDatepickerConfig, useValue: this._config })\r\n      .attach(BsDaterangepickerContainerComponent)\r\n      .to(this.container)\r\n      .position({ attachment: this.placement })\r\n      .show({ placement: this.placement });\r\n\r\n    // if date changes from external source (model -> view)\r\n    this._subs.push(\r\n      this.bsValueChange.subscribe((value: Date[]) => {\r\n        this._datepickerRef.instance.value = value;\r\n      })\r\n    );\r\n\r\n    // if date changes from picker (view -> model)\r\n    this._subs.push(\r\n      this._datepickerRef.instance.valueChange\r\n        .pipe(\r\n          filter((range: Date[]) => range && range[0] && !!range[1])\r\n        )\r\n        .subscribe((value: Date[]) => {\r\n          this.bsValue = value;\r\n          this.hide();\r\n        })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Set config for daterangepicker\r\n   */\r\n  setConfig() {\r\n    this._config = Object.assign(\r\n      {},\r\n      this._config,\r\n      this.bsConfig,\r\n      {\r\n        value: this._bsValue,\r\n        isDisabled: this.isDisabled,\r\n        minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\r\n        maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\r\n        daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\r\n        dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\r\n        datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\r\n        datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\r\n        ranges: this.bsConfig && this.bsConfig.ranges,\r\n        maxDateRange: this.bsConfig && this.bsConfig.maxDateRange\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Closes an element’s datepicker. This is considered a “manual” triggering of\r\n   * the datepicker.\r\n   */\r\n  hide(): void {\r\n    if (this.isOpen) {\r\n      this._datepicker.hide();\r\n    }\r\n    for (const sub of this._subs) {\r\n      sub.unsubscribe();\r\n    }\r\n\r\n    if (this._config.returnFocusToInput) {\r\n      this._renderer.selectRootElement(this._elementRef.nativeElement).focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an element’s datepicker. This is considered a “manual” triggering\r\n   * of the datepicker.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen) {\r\n      return this.hide();\r\n    }\r\n\r\n    this.show();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._datepicker.dispose();\r\n    this.isOpen$.next(false);\r\n    if (this.isDestroy$) {\r\n      this.isDestroy$.next();\r\n      this.isDestroy$.complete();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  ElementRef,\r\n  forwardRef,\r\n  Host,\r\n  OnDestroy,\r\n  OnInit,\r\n  Provider,\r\n  Renderer2\r\n} from '@angular/core';\r\n\r\nimport {\r\n  AbstractControl,\r\n  ControlValueAccessor,\r\n  NG_VALIDATORS,\r\n  NG_VALUE_ACCESSOR,\r\n  ValidationErrors,\r\n  Validator\r\n} from '@angular/forms';\r\n\r\nimport {\r\n  parseDate,\r\n  formatDate,\r\n  getLocale,\r\n  isAfter,\r\n  isBefore,\r\n  isArray,\r\n  isDateValid,\r\n  utcAsLocal\r\n} from 'ngx-bootstrap/chronos';\r\n\r\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\r\nimport { BsLocaleService } from './bs-locale.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\nconst BS_DATERANGEPICKER_VALUE_ACCESSOR: Provider = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => BsDaterangepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\nconst BS_DATERANGEPICKER_VALIDATOR: Provider = {\r\n  provide: NG_VALIDATORS,\r\n  useExisting: forwardRef(() => BsDaterangepickerInputDirective),\r\n  multi: true\r\n};\r\n\r\n\r\n@Directive({\r\n  selector: `input[bsDaterangepicker]`,\r\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\r\n  host: {\r\n    '(change)': 'onChange($event)',\r\n    '(keyup.esc)': 'hide()',\r\n    '(keydown)': 'onKeydownEvent($event)',\r\n    '(blur)': 'onBlur()'\r\n  },\r\n  providers: [BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR]\r\n})\r\nexport class BsDaterangepickerInputDirective\r\n  implements ControlValueAccessor, Validator, OnInit, OnDestroy {\r\n  private _onChange = Function.prototype;\r\n  private _onTouched = Function.prototype;\r\n  private _validatorChange = Function.prototype;\r\n  private _value: Date[];\r\n  private _subs = new Subscription();\r\n\r\n  constructor(@Host() private _picker: BsDaterangepickerDirective,\r\n              private _localeService: BsLocaleService,\r\n              private _renderer: Renderer2,\r\n              private _elRef: ElementRef,\r\n              private changeDetection: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    // update input value on datepicker value update\r\n    this._subs.add(\r\n      this._picker.bsValueChange.subscribe((value: Date[]) => {\r\n        this._setInputValue(value);\r\n        if (this._value !== value) {\r\n          this._value = value;\r\n          this._onChange(value);\r\n          this._onTouched();\r\n        }\r\n        this.changeDetection.markForCheck();\r\n      }));\r\n\r\n    // update input value on locale change\r\n    this._subs.add(this._localeService.localeChange.subscribe(() => {\r\n      this._setInputValue(this._value);\r\n    }));\r\n\r\n    this._subs.add(\r\n      // update input value on format change\r\n      this._picker.rangeInputFormat$.pipe(distinctUntilChanged()).subscribe(() => {\r\n        this._setInputValue(this._value);\r\n      }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subs.unsubscribe();\r\n  }\r\n\r\n  onKeydownEvent(event) {\r\n    if (event.keyCode === 13 || event.code === 'Enter') {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  _setInputValue(date: Date[]): void {\r\n    let range = '';\r\n    if (date) {\r\n      const start: string = !date[0] ? ''\r\n        : formatDate(date[0],\r\n          this._picker._config.rangeInputFormat,\r\n          this._localeService.currentLocale\r\n        );\r\n      const end: string = !date[1] ? ''\r\n        : formatDate(\r\n          date[1],\r\n          this._picker._config.rangeInputFormat,\r\n          this._localeService.currentLocale\r\n        );\r\n      range = (start && end) ? start + this._picker._config.rangeSeparator + end : '';\r\n    }\r\n    this._renderer.setProperty(this._elRef.nativeElement, 'value', range);\r\n  }\r\n\r\n  onChange(event: Event) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    this.writeValue((event.target as any).value);\r\n    this._onChange(this._value);\r\n    if (this._picker._config.returnFocusToInput) {\r\n      this._renderer.selectRootElement(this._elRef.nativeElement).focus();\r\n    }\r\n    this._onTouched();\r\n  }\r\n\r\n  validate(c: AbstractControl): ValidationErrors | null {\r\n    const _value: [Date, Date] = c.value;\r\n    const errors: Record<string, unknown>[] = [];\r\n\r\n    if (_value === null || _value === undefined || !isArray(_value)) {\r\n      return null;\r\n    }\r\n\r\n    _value.sort((a, b) => a.getTime() - b.getTime());\r\n\r\n    const _isFirstDateValid = isDateValid(_value[0]);\r\n    const _isSecondDateValid = isDateValid(_value[1]);\r\n\r\n    if (!_isFirstDateValid) {\r\n      return { bsDate: { invalid: _value[0] } };\r\n    }\r\n\r\n    if (!_isSecondDateValid) {\r\n      return { bsDate: { invalid: _value[1] } };\r\n    }\r\n\r\n    if (this._picker && this._picker.minDate && isBefore(_value[0], this._picker.minDate, 'date')) {\r\n      _value[0] = this._picker.minDate;\r\n      errors.push({ bsDate: { minDate: this._picker.minDate } });\r\n    }\r\n\r\n    if (this._picker && this._picker.maxDate && isAfter(_value[1], this._picker.maxDate, 'date')) {\r\n      _value[1] = this._picker.maxDate;\r\n      errors.push({ bsDate: { maxDate: this._picker.maxDate } });\r\n    }\r\n    if (errors.length > 0) {\r\n      this.writeValue(_value);\r\n\r\n      return errors;\r\n    }\r\n  }\r\n\r\n  registerOnValidatorChange(fn: () => void): void {\r\n    this._validatorChange = fn;\r\n  }\r\n\r\n  writeValue(value: Date[] | string) {\r\n    if (!value) {\r\n      this._value = null;\r\n    } else {\r\n      const _localeKey = this._localeService.currentLocale;\r\n      const _locale = getLocale(_localeKey);\r\n      if (!_locale) {\r\n        throw new Error(\r\n          `Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`\r\n        );\r\n      }\r\n\r\n      let _input: (string | Date)[] = [];\r\n      if (typeof value === 'string') {\r\n        const trimmedSeparator = this._picker._config.rangeSeparator.trim();\r\n        _input = value\r\n          .split(trimmedSeparator.length > 0 ? trimmedSeparator : this._picker._config.rangeSeparator)\r\n          .map(_val => _val.trim());\r\n      }\r\n\r\n      if (Array.isArray(value)) {\r\n        _input = value;\r\n      }\r\n\r\n      this._value = _input\r\n        .map((_val: string | Date): Date => {\r\n            if (this._picker._config.useUtc) {\r\n              return utcAsLocal(\r\n                parseDate(_val, this._picker._config.rangeInputFormat, this._localeService.currentLocale)\r\n              );\r\n            }\r\n\r\n            return parseDate(_val, this._picker._config.rangeInputFormat, this._localeService.currentLocale);\r\n          }\r\n        )\r\n        .map((date: Date) => (isNaN(date.valueOf()) ? null : date));\r\n    }\r\n\r\n    this._picker.bsValue = this._value;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this._picker.isDisabled = isDisabled;\r\n    if (isDisabled) {\r\n      this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\r\n\r\n      return;\r\n    }\r\n    this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  registerOnChange(fn: () => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  onBlur() {\r\n    this._onTouched();\r\n  }\r\n\r\n  hide() {\r\n    this._picker.hide();\r\n    this._renderer.selectRootElement(this._elRef.nativeElement).blur();\r\n\r\n    if (this._picker._config.returnFocusToInput) {\r\n      this._renderer.selectRootElement(this._elRef.nativeElement).focus();\r\n    }\r\n  }\r\n}\r\n","import { formatDate } from 'ngx-bootstrap/chronos';\r\n\r\nexport class DateFormatter {\r\n  format(date: Date, format: string, locale: string): string {\r\n    return formatDate(date, format, locale);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges\r\n} from '@angular/core';\r\n\r\nimport { DateFormatter } from './date-formatter';\r\n\r\ntype CompareDatesFn = (date1: Date, date2: Date) => number;\r\n\r\n@Component({\r\n  selector: 'datepicker-inner',\r\n  template: `\r\n    <!--&lt;!&ndash;ng-keydown=\"keydown($event)\"&ndash;&gt;-->\r\n    <div *ngIf=\"datepickerMode\" class=\"well well-sm bg-faded p-a card\" role=\"application\" >\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `\r\n})\r\nexport class DatePickerInnerComponent implements OnInit, OnChanges {\r\n  @Input() locale: string;\r\n  @Input() datepickerMode: string;\r\n  @Input() startingDay: number;\r\n  @Input() yearRange: number;\r\n\r\n  @Input() minDate: Date;\r\n  @Input() maxDate: Date;\r\n  @Input() minMode: string;\r\n  @Input() maxMode: string;\r\n  @Input() showWeeks: boolean;\r\n  @Input() formatDay: string;\r\n  @Input() formatMonth: string;\r\n  @Input() formatYear: string;\r\n  @Input() formatDayHeader: string;\r\n  @Input() formatDayTitle: string;\r\n  @Input() formatMonthTitle: string;\r\n  @Input() onlyCurrentMonth: boolean;\r\n  @Input() shortcutPropagation: boolean;\r\n  @Input() customClass: { date: Date; mode: string; clazz: string }[];\r\n  @Input() monthColLimit: number;\r\n  @Input() yearColLimit: number;\r\n  @Input() dateDisabled: { date: Date; mode: string }[];\r\n  @Input() dayDisabled: number[];\r\n  @Input() initDate: Date;\r\n\r\n  @Output() selectionDone: EventEmitter<Date> = new EventEmitter<Date>(undefined);\r\n  @Output() update: EventEmitter<Date> = new EventEmitter<Date>(false);\r\n  @Output() activeDateChange: EventEmitter<Date> = new EventEmitter<Date>(undefined);\r\n\r\n  stepDay = {};\r\n  stepMonth = {};\r\n  stepYear = {};\r\n\r\n  uniqueId: string;\r\n\r\n  protected modes: string[] = ['day', 'month', 'year'];\r\n  protected dateFormatter: DateFormatter = new DateFormatter();\r\n  protected _activeDate: Date;\r\n  protected selectedDate: Date;\r\n  protected activeDateId: string;\r\n\r\n  protected refreshViewHandlerDay: () => void;\r\n  protected compareHandlerDay: CompareDatesFn;\r\n  protected refreshViewHandlerMonth: () => void;\r\n  protected compareHandlerMonth: CompareDatesFn;\r\n  protected refreshViewHandlerYear: () => void;\r\n  protected compareHandlerYear: CompareDatesFn;\r\n\r\n  @Input()\r\n  get activeDate(): Date {\r\n    return this._activeDate;\r\n  }\r\n\r\n  set activeDate(value: Date) {\r\n    this._activeDate = value;\r\n  }\r\n\r\n  // todo: add formatter value to Date object\r\n  ngOnInit(): void {\r\n    // todo: use date for unique value\r\n    this.uniqueId =  `datepicker--${Math.floor(Math.random() * 10000)}`;\r\n\r\n    if (this.initDate) {\r\n      this.activeDate = this.initDate;\r\n      this.selectedDate = new Date(this.activeDate.valueOf());\r\n      this.update.emit(this.activeDate);\r\n    } else if (this.activeDate === undefined) {\r\n      this.activeDate = new Date();\r\n    }\r\n  }\r\n\r\n  // this.refreshView should be called here to reflect the changes on the fly\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.refreshView();\r\n    this.checkIfActiveDateGotUpdated(changes.activeDate);\r\n  }\r\n\r\n  // Check if activeDate has been update and then emit the activeDateChange with the new date\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  checkIfActiveDateGotUpdated(activeDate: any): void {\r\n    if (activeDate && !activeDate.firstChange) {\r\n      const previousValue = activeDate.previousValue;\r\n      if (\r\n        previousValue &&\r\n        previousValue instanceof Date &&\r\n        previousValue.getTime() !== activeDate.currentValue.getTime()\r\n      ) {\r\n        this.activeDateChange.emit(this.activeDate);\r\n      }\r\n    }\r\n  }\r\n\r\n  setCompareHandler(handler: CompareDatesFn, type: string): void {\r\n    if (type === 'day') {\r\n      this.compareHandlerDay = handler;\r\n    }\r\n\r\n    if (type === 'month') {\r\n      this.compareHandlerMonth = handler;\r\n    }\r\n\r\n    if (type === 'year') {\r\n      this.compareHandlerYear = handler;\r\n    }\r\n  }\r\n\r\n  compare(date1: Date, date2: Date): number | undefined {\r\n    if (date1 === undefined || date2 === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    if (this.datepickerMode === 'day' && this.compareHandlerDay) {\r\n      return this.compareHandlerDay(date1, date2);\r\n    }\r\n\r\n    if (this.datepickerMode === 'month' && this.compareHandlerMonth) {\r\n      return this.compareHandlerMonth(date1, date2);\r\n    }\r\n\r\n    if (this.datepickerMode === 'year' && this.compareHandlerYear) {\r\n      return this.compareHandlerYear(date1, date2);\r\n    }\r\n\r\n    return void 0;\r\n  }\r\n\r\n  setRefreshViewHandler(handler: () => void, type: string): void {\r\n    if (type === 'day') {\r\n      this.refreshViewHandlerDay = handler;\r\n    }\r\n\r\n    if (type === 'month') {\r\n      this.refreshViewHandlerMonth = handler;\r\n    }\r\n\r\n    if (type === 'year') {\r\n      this.refreshViewHandlerYear = handler;\r\n    }\r\n  }\r\n\r\n  refreshView(): void {\r\n    if (this.datepickerMode === 'day' && this.refreshViewHandlerDay) {\r\n      this.refreshViewHandlerDay();\r\n    }\r\n\r\n    if (this.datepickerMode === 'month' && this.refreshViewHandlerMonth) {\r\n      this.refreshViewHandlerMonth();\r\n    }\r\n\r\n    if (this.datepickerMode === 'year' && this.refreshViewHandlerYear) {\r\n      this.refreshViewHandlerYear();\r\n    }\r\n  }\r\n\r\n  dateFilter(date: Date, format: string): string {\r\n    return this.dateFormatter.format(date, format, this.locale);\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  isActive(dateObject: any): boolean {\r\n    if (this.compare(dateObject.date, this.activeDate) === 0) {\r\n      this.activeDateId = dateObject.uid;\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  createDateObject(date: Date, format: string): any {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const dateObject: any = {};\r\n    dateObject.date = new Date(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate()\r\n    );\r\n    dateObject.date = this.fixTimeZone(dateObject.date);\r\n    dateObject.label = this.dateFilter(date, format);\r\n    dateObject.selected = this.compare(date, this.selectedDate) === 0;\r\n    dateObject.disabled = this.isDisabled(date);\r\n    dateObject.current = this.compare(date, new Date()) === 0;\r\n    dateObject.customClass = this.getCustomClassForDate(dateObject.date);\r\n\r\n    return dateObject;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  split(arr: any[], size: number): any[] {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const arrays: any[] = [];\r\n    while (arr.length > 0) {\r\n      arrays.push(arr.splice(0, size));\r\n    }\r\n\r\n    return arrays;\r\n  }\r\n\r\n  // Fix a hard-reproducible bug with timezones\r\n  // The bug depends on OS, browser, current timezone and current date\r\n  // i.e.\r\n  // var date = new Date(2014, 0, 1);\r\n  // console.log(date.getFullYear(), date.getMonth(), date.getDate(),\r\n  // date.getHours()); can result in \"2013 11 31 23\" because of the bug.\r\n  fixTimeZone(date: Date): Date {\r\n    const hours = date.getHours();\r\n\r\n    return new Date(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate(),\r\n      hours === 23 ? hours + 2 : 0\r\n    );\r\n  }\r\n\r\n  select(date: Date, isManual = true): void {\r\n    if (this.datepickerMode === this.minMode) {\r\n      if (!this.activeDate) {\r\n        this.activeDate = new Date(0, 0, 0, 0, 0, 0, 0);\r\n      }\r\n\r\n      this.activeDate = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate()\r\n      );\r\n      this.activeDate = this.fixTimeZone(this.activeDate);\r\n      if (isManual) {\r\n        this.selectionDone.emit(this.activeDate);\r\n      }\r\n    } else {\r\n      this.activeDate = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate()\r\n      );\r\n      this.activeDate = this.fixTimeZone(this.activeDate);\r\n      if (isManual) {\r\n        this.datepickerMode = this.modes[\r\n          this.modes.indexOf(this.datepickerMode) - 1\r\n        ];\r\n      }\r\n    }\r\n\r\n    this.selectedDate = new Date(this.activeDate.valueOf());\r\n    this.update.emit(this.activeDate);\r\n    this.refreshView();\r\n  }\r\n\r\n  move(direction: number): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    let expectedStep: any;\r\n    if (this.datepickerMode === 'day') {\r\n      expectedStep = this.stepDay;\r\n    }\r\n\r\n    if (this.datepickerMode === 'month') {\r\n      expectedStep = this.stepMonth;\r\n    }\r\n\r\n    if (this.datepickerMode === 'year') {\r\n      expectedStep = this.stepYear;\r\n    }\r\n\r\n    if (expectedStep) {\r\n      const year =\r\n        this.activeDate.getFullYear() + direction * (expectedStep.years || 0);\r\n      const month =\r\n        this.activeDate.getMonth() + direction * (expectedStep.months || 0);\r\n      this.activeDate = new Date(year, month, 1);\r\n\r\n      this.refreshView();\r\n      this.activeDateChange.emit(this.activeDate);\r\n    }\r\n  }\r\n\r\n  toggleMode(_direction: number): void {\r\n    const direction = _direction || 1;\r\n\r\n    if (\r\n      (this.datepickerMode === this.maxMode && direction === 1) ||\r\n      (this.datepickerMode === this.minMode && direction === -1)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this.datepickerMode = this.modes[\r\n      this.modes.indexOf(this.datepickerMode) + direction\r\n    ];\r\n    this.refreshView();\r\n  }\r\n\r\n  protected getCustomClassForDate(date: Date): string {\r\n    if (!this.customClass) {\r\n      return '';\r\n    }\r\n    // todo: build a hash of custom classes, it will work faster\r\n    const customClassObject: {\r\n      date: Date;\r\n      mode: string;\r\n      clazz: string;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    } = this.customClass.find((customClass: any) => {\r\n      return (\r\n        customClass.date.valueOf() === date.valueOf() &&\r\n        customClass.mode === this.datepickerMode\r\n      );\r\n    }, this);\r\n\r\n    return customClassObject === undefined ? '' : customClassObject.clazz;\r\n  }\r\n\r\n  protected compareDateDisabled(\r\n    date1Disabled: { date: Date; mode: string },\r\n    date2: Date\r\n  ): number {\r\n    if (date1Disabled === undefined || date2 === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    if (date1Disabled.mode === 'day' && this.compareHandlerDay) {\r\n      return this.compareHandlerDay(date1Disabled.date, date2);\r\n    }\r\n\r\n    if (date1Disabled.mode === 'month' && this.compareHandlerMonth) {\r\n      return this.compareHandlerMonth(date1Disabled.date, date2);\r\n    }\r\n\r\n    if (date1Disabled.mode === 'year' && this.compareHandlerYear) {\r\n      return this.compareHandlerYear(date1Disabled.date, date2);\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  protected isDisabled(date: Date): boolean {\r\n    let isDateDisabled = false;\r\n    if (this.dateDisabled) {\r\n      this.dateDisabled.forEach(\r\n        (disabledDate: { date: Date; mode: string }) => {\r\n          if (this.compareDateDisabled(disabledDate, date) === 0) {\r\n            isDateDisabled = true;\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n    if (this.dayDisabled) {\r\n      isDateDisabled =\r\n        isDateDisabled ||\r\n        this.dayDisabled.indexOf(date.getDay()) > -1;\r\n    }\r\n\r\n    return (\r\n      isDateDisabled ||\r\n      (this.minDate && this.compare(date, this.minDate) < 0) ||\r\n      (this.maxDate && this.compare(date, this.maxDate) > 0)\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DatepickerConfig {\r\n  locale = 'en';\r\n  datepickerMode = 'day';\r\n  startingDay = 0;\r\n  yearRange = 20;\r\n  minMode = 'day';\r\n  maxMode = 'year';\r\n  showWeeks = true;\r\n  formatDay = 'DD';\r\n  formatMonth = 'MMMM';\r\n  formatYear = 'YYYY';\r\n  formatDayHeader = 'dd';\r\n  formatDayTitle = 'MMMM YYYY';\r\n  formatMonthTitle = 'YYYY';\r\n  onlyCurrentMonth = false;\r\n  monthColLimit = 3;\r\n  yearColLimit = 5;\r\n  shortcutPropagation = false;\r\n}\r\n","// @deprecated\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { isBs3 } from 'ngx-bootstrap/utils';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\n\r\n@Component({\r\n  selector: 'daypicker',\r\n  template: `\r\n<table *ngIf=\"datePicker.datepickerMode === 'day'\" role=\"grid\" [attr.aria-labelledby]=\"datePicker.uniqueId + '-title'\" aria-activedescendant=\"activeDateId\">\r\n  <thead>\r\n    <tr>\r\n      <th>\r\n        <button *ngIf=\"!isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\"\r\n                tabindex=\"-1\">‹</button>\r\n        <button *ngIf=\"isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\"\r\n                tabindex=\"-1\">&lt;</button>\r\n      </th>\r\n      <th [attr.colspan]=\"5 + (datePicker.showWeeks ? 1 : 0)\">\r\n        <button [id]=\"datePicker.uniqueId + '-title'\"\r\n                type=\"button\" class=\"btn btn-default btn-secondary btn-sm\"\r\n                (click)=\"datePicker.toggleMode(0)\"\r\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\r\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\r\n          <strong>{{ title }}</strong>\r\n        </button>\r\n      </th>\r\n      <th>\r\n        <button *ngIf=\"!isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\"\r\n                tabindex=\"-1\">›</button>\r\n        <button *ngIf=\"isBs4\"\r\n                type=\"button\"\r\n                class=\"btn btn-default btn-secondary btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\"\r\n                tabindex=\"-1\">&gt;\r\n        </button>\r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th *ngIf=\"datePicker.showWeeks\"></th>\r\n      <th *ngFor=\"let labelz of labels\" class=\"text-center\">\r\n        <small aria-label=\"labelz.full\"><b>{{ labelz.abbr }}</b></small>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <ng-template ngFor [ngForOf]=\"rows\" let-rowz=\"$implicit\" let-index=\"index\">\r\n      <tr *ngIf=\"!(datePicker.onlyCurrentMonth && rowz[0].secondary && rowz[6].secondary)\">\r\n        <td *ngIf=\"datePicker.showWeeks\" class=\"h6\" class=\"text-center\">\r\n          <em>{{ weekNumbers[index] }}</em>\r\n        </td>\r\n        <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [id]=\"dtz.uid\">\r\n          <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-sm {{dtz.customClass}}\"\r\n                  *ngIf=\"!(datePicker.onlyCurrentMonth && dtz.secondary)\"\r\n                  [ngClass]=\"{'btn-secondary': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected, disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz), 'btn-default': !isBs4}\"\r\n                  [disabled]=\"dtz.disabled\"\r\n                  (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\r\n            <span [ngClass]=\"{'text-muted': dtz.secondary || dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n  </tbody>\r\n</table>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host .btn-secondary {\r\n      color: #292b2c;\r\n      background-color: #fff;\r\n      border-color: #ccc;\r\n    }\r\n    :host .btn-info .text-muted {\r\n      color: #292b2c !important;\r\n    }\r\n  `\r\n  ]\r\n})\r\nexport class DayPickerComponent implements OnInit {\r\n  labels = [];\r\n  title: string;\r\n  rows = [];\r\n  weekNumbers: number[] = [];\r\n  datePicker: DatePickerInnerComponent;\r\n\r\n  constructor(datePicker: DatePickerInnerComponent) {\r\n    this.datePicker = datePicker;\r\n  }\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  /*protected getDaysInMonth(year:number, month:number) {\r\n   return ((month === 1) && (year % 4 === 0) &&\r\n   ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];\r\n   }*/\r\n  ngOnInit(): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n    const self = this;\r\n\r\n    this.datePicker.stepDay = { months: 1 };\r\n\r\n    this.datePicker.setRefreshViewHandler(function(): void {\r\n      const year = this.activeDate.getFullYear();\r\n      const month = this.activeDate.getMonth();\r\n      const firstDayOfMonth = new Date(year, month, 1);\r\n      const difference = this.startingDay - firstDayOfMonth.getDay();\r\n      const numDisplayedFromPreviousMonth =\r\n        difference > 0 ? 7 - difference : -difference;\r\n      const firstDate = new Date(firstDayOfMonth.getTime());\r\n\r\n      if (numDisplayedFromPreviousMonth > 0) {\r\n        firstDate.setDate(-numDisplayedFromPreviousMonth + 1);\r\n      }\r\n\r\n      // 42 is the number of days on a six-week calendar\r\n      const _days: Date[] = self.getDates(firstDate, 42);\r\n      const days = [];\r\n      for (let i = 0; i < 42; i++) {\r\n        const _dateObject = this.createDateObject(_days[i], this.formatDay);\r\n        _dateObject.secondary = _days[i].getMonth() !== month;\r\n        _dateObject.uid = this.uniqueId + '-' + i;\r\n        days[i] = _dateObject;\r\n      }\r\n\r\n      self.labels = [];\r\n      for (let j = 0; j < 7; j++) {\r\n        self.labels[j] = {};\r\n        self.labels[j].abbr = this.dateFilter(\r\n          days[j].date,\r\n          this.formatDayHeader\r\n        );\r\n        self.labels[j].full = this.dateFilter(days[j].date, 'EEEE');\r\n      }\r\n\r\n      self.title = this.dateFilter(this.activeDate, this.formatDayTitle);\r\n      self.rows = this.split(days, 7);\r\n\r\n      if (this.showWeeks) {\r\n        self.weekNumbers = [];\r\n        const thursdayIndex = (4 + 7 - this.startingDay) % 7;\r\n        const numWeeks = self.rows.length;\r\n        for (let curWeek = 0; curWeek < numWeeks; curWeek++) {\r\n          self.weekNumbers.push(\r\n            self.getISO8601WeekNumber(self.rows[curWeek][thursdayIndex].date)\r\n          );\r\n        }\r\n      }\r\n    }, 'day');\r\n\r\n    this.datePicker.setCompareHandler(function(\r\n      date1: Date,\r\n      date2: Date\r\n    ): number {\r\n      const d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());\r\n      const d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());\r\n      return d1.getTime() - d2.getTime();\r\n    }, 'day');\r\n\r\n    this.datePicker.refreshView();\r\n  }\r\n\r\n  protected getDates(startDate: Date, n: number): Date[] {\r\n    const dates: Date[] = new Array(n);\r\n    let current = new Date(startDate.getTime());\r\n    let i = 0;\r\n    let date: Date;\r\n    while (i < n) {\r\n      date = new Date(current.getTime());\r\n      date = this.datePicker.fixTimeZone(date);\r\n      dates[i++] = date;\r\n      current = new Date(\r\n        date.getFullYear(),\r\n        date.getMonth(),\r\n        date.getDate() + 1\r\n      );\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  protected getISO8601WeekNumber(date: Date): number {\r\n    const checkDate = new Date(date.getTime());\r\n    // Thursday\r\n    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));\r\n    const time = checkDate.getTime();\r\n    // Compare with Jan 1\r\n    checkDate.setMonth(0);\r\n    checkDate.setDate(1);\r\n    return (\r\n      Math.floor(Math.round((time - checkDate.getTime()) / 86400000) / 7) + 1\r\n    );\r\n  }\r\n\r\n  // todo: key events implementation\r\n}\r\n","// @deprecated\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { isBs3 } from 'ngx-bootstrap/utils';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\n\r\n@Component({\r\n  selector: 'monthpicker',\r\n  template: `\r\n<table *ngIf=\"datePicker.datepickerMode==='month'\" role=\"grid\">\r\n  <thead>\r\n    <tr>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">‹</button></th>\r\n      <th [attr.colspan]=\"((datePicker.monthColLimit - 2) <= 0) ? 1 : datePicker.monthColLimit - 2\">\r\n        <button [id]=\"datePicker.uniqueId + '-title'\"\r\n                type=\"button\" class=\"btn btn-default btn-sm\"\r\n                (click)=\"datePicker.toggleMode(0)\"\r\n                [disabled]=\"datePicker.datepickerMode === maxMode\"\r\n                [ngClass]=\"{disabled: datePicker.datepickerMode === maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\r\n          <strong>{{ title }}</strong>\r\n        </button>\r\n      </th>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">›</button>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let rowz of rows\">\r\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\" [ngClass]=\"dtz.customClass\">\r\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\r\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\r\n                [disabled]=\"dtz.disabled\"\r\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\r\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host .btn-info .text-success {\r\n      color: #fff !important;\r\n    }\r\n  `\r\n  ]\r\n})\r\nexport class MonthPickerComponent implements OnInit {\r\n  title: string;\r\n  rows = [];\r\n  datePicker: DatePickerInnerComponent;\r\n  maxMode: string;\r\n\r\n  constructor(datePicker: DatePickerInnerComponent) {\r\n    this.datePicker = datePicker;\r\n  }\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n    const self = this;\r\n\r\n    this.datePicker.stepMonth = { years: 1 };\r\n\r\n    this.datePicker.setRefreshViewHandler(function(): void {\r\n      const months = new Array(12);\r\n      const year: number = this.activeDate.getFullYear();\r\n      let date: Date;\r\n\r\n      for (let i = 0; i < 12; i++) {\r\n        date = new Date(year, i, 1);\r\n        date = this.fixTimeZone(date);\r\n        months[i] = this.createDateObject(date, this.formatMonth);\r\n        months[i].uid = this.uniqueId + '-' + i;\r\n      }\r\n\r\n      self.title = this.dateFilter(this.activeDate, this.formatMonthTitle);\r\n      self.rows = this.split(months, self.datePicker.monthColLimit);\r\n    }, 'month');\r\n\r\n    this.datePicker.setCompareHandler(function(\r\n      date1: Date,\r\n      date2: Date\r\n    ): number {\r\n      const d1 = new Date(date1.getFullYear(), date1.getMonth());\r\n      const d2 = new Date(date2.getFullYear(), date2.getMonth());\r\n      return d1.getTime() - d2.getTime();\r\n    }, 'month');\r\n\r\n    this.datePicker.refreshView();\r\n  }\r\n\r\n  // todo: key events implementation\r\n}\r\n","// @deprecated\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { isBs3 } from 'ngx-bootstrap/utils';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\n\r\n@Component({\r\n  selector: 'yearpicker',\r\n  template: `\r\n<table *ngIf=\"datePicker.datepickerMode==='year'\" role=\"grid\">\r\n  <thead>\r\n    <tr>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-left float-left\"\r\n                (click)=\"datePicker.move(-1)\" tabindex=\"-1\">‹</button>\r\n      </th>\r\n      <th [attr.colspan]=\"((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2\">\r\n        <button [id]=\"datePicker.uniqueId + '-title'\" role=\"heading\"\r\n                type=\"button\" class=\"btn btn-default btn-sm\"\r\n                (click)=\"datePicker.toggleMode(0)\"\r\n                [disabled]=\"datePicker.datepickerMode === datePicker.maxMode\"\r\n                [ngClass]=\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\" tabindex=\"-1\" style=\"width:100%;\">\r\n          <strong>{{ title }}</strong>\r\n        </button>\r\n      </th>\r\n      <th>\r\n        <button type=\"button\" class=\"btn btn-default btn-sm pull-right float-right\"\r\n                (click)=\"datePicker.move(1)\" tabindex=\"-1\">›</button>\r\n      </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let rowz of rows\">\r\n      <td *ngFor=\"let dtz of rowz\" class=\"text-center\" role=\"gridcell\" [attr.id]=\"dtz.uid\">\r\n        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\"\r\n                [ngClass]=\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\"\r\n                [disabled]=\"dtz.disabled\"\r\n                (click)=\"datePicker.select(dtz.date)\" tabindex=\"-1\">\r\n          <span [ngClass]=\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\">{{ dtz.label }}</span>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n  `,\r\n  styles: [\r\n    `\r\n    :host .btn-info .text-success {\r\n      color: #fff !important;\r\n    }\r\n  `\r\n  ]\r\n})\r\nexport class YearPickerComponent implements OnInit {\r\n  datePicker: DatePickerInnerComponent;\r\n  title: string;\r\n  rows = [];\r\n\r\n  constructor(datePicker: DatePickerInnerComponent) {\r\n    this.datePicker = datePicker;\r\n  }\r\n\r\n  get isBs4(): boolean {\r\n    return !isBs3();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n    const self = this;\r\n\r\n    this.datePicker.stepYear = { years: this.datePicker.yearRange };\r\n\r\n    this.datePicker.setRefreshViewHandler(function(): void {\r\n      const years = new Array(this.yearRange);\r\n      let date: Date;\r\n      const start = self.getStartingYear(this.activeDate.getFullYear());\r\n\r\n      for (let i = 0; i < this.yearRange; i++) {\r\n        date = new Date(start + i, 0, 1);\r\n        date = this.fixTimeZone(date);\r\n        years[i] = this.createDateObject(date, this.formatYear);\r\n        years[i].uid = this.uniqueId + '-' + i;\r\n      }\r\n\r\n      self.title = [years[0].label, years[this.yearRange - 1].label].join(\r\n        ' - '\r\n      );\r\n      self.rows = this.split(years, self.datePicker.yearColLimit);\r\n    }, 'year');\r\n\r\n    this.datePicker.setCompareHandler(function(\r\n      date1: Date,\r\n      date2: Date\r\n    ): number {\r\n      return date1.getFullYear() - date2.getFullYear();\r\n    }, 'year');\r\n\r\n    this.datePicker.refreshView();\r\n  }\r\n\r\n  protected getStartingYear(year: number): number {\r\n    // todo: parseInt\r\n    return (\r\n      (year - 1) / this.datePicker.yearRange * this.datePicker.yearRange + 1\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Input,\r\n  Output,\r\n  Provider,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\nimport { DatepickerConfig } from './datepicker.config';\r\n\r\nexport const DATEPICKER_CONTROL_VALUE_ACCESSOR: Provider = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DatePickerComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'datepicker',\r\n  template: `\r\n    <datepicker-inner [activeDate]=\"activeDate\"\r\n                      (update)=\"onUpdate($event)\"\r\n                      [locale]=\"config.locale\"\r\n                      [datepickerMode]=\"datepickerMode\"\r\n                      [initDate]=\"initDate\"\r\n                      [minDate]=\"minDate\"\r\n                      [maxDate]=\"maxDate\"\r\n                      [minMode]=\"minMode\"\r\n                      [maxMode]=\"maxMode\"\r\n                      [showWeeks]=\"showWeeks\"\r\n                      [formatDay]=\"formatDay\"\r\n                      [formatMonth]=\"formatMonth\"\r\n                      [formatYear]=\"formatYear\"\r\n                      [formatDayHeader]=\"formatDayHeader\"\r\n                      [formatDayTitle]=\"formatDayTitle\"\r\n                      [formatMonthTitle]=\"formatMonthTitle\"\r\n                      [startingDay]=\"startingDay\"\r\n                      [yearRange]=\"yearRange\"\r\n                      [customClass]=\"customClass\"\r\n                      [dateDisabled]=\"dateDisabled\"\r\n                      [dayDisabled]=\"dayDisabled\"\r\n                      [onlyCurrentMonth]=\"onlyCurrentMonth\"\r\n                      [shortcutPropagation]=\"shortcutPropagation\"\r\n                      [monthColLimit]=\"monthColLimit\"\r\n                      [yearColLimit]=\"yearColLimit\"\r\n                      (selectionDone)=\"onSelectionDone($event)\"\r\n                      (activeDateChange)=\"onActiveDateChange($event)\">\r\n      <daypicker tabindex=\"0\"></daypicker>\r\n      <monthpicker tabindex=\"0\"></monthpicker>\r\n      <yearpicker tabindex=\"0\"></yearpicker>\r\n    </datepicker-inner>\r\n    `,\r\n  providers: [DATEPICKER_CONTROL_VALUE_ACCESSOR]\r\n})\r\nexport class DatePickerComponent implements ControlValueAccessor {\r\n  /** sets datepicker mode, supports: `day`, `month`, `year` */\r\n  @Input() datepickerMode = 'day';\r\n  /** default date to show if `ng-model` value is not specified */\r\n  @Input() initDate: Date;\r\n  /**  oldest selectable date */\r\n  @Input() minDate: Date;\r\n  /** latest selectable date */\r\n  @Input() maxDate: Date;\r\n  /** set lower datepicker mode, supports: `day`, `month`, `year` */\r\n  @Input() minMode: string;\r\n  /** sets upper datepicker mode, supports: `day`, `month`, `year` */\r\n  @Input() maxMode: string;\r\n  /** if false week numbers will be hidden */\r\n  @Input() showWeeks = true;\r\n  /** format of day in month */\r\n  @Input() formatDay: string;\r\n  /** format of month in year */\r\n  @Input() formatMonth: string;\r\n  /** format of year in year range */\r\n  @Input() formatYear: string;\r\n  /** format of day in week header */\r\n  @Input() formatDayHeader: string;\r\n  /** format of title when selecting day */\r\n  @Input() formatDayTitle: string;\r\n  /** format of title when selecting month */\r\n  @Input() formatMonthTitle: string;\r\n  /** starting day of the week from 0-6 (0=Sunday, ..., 6=Saturday) */\r\n  @Input() startingDay: number;\r\n  /** number of years displayed in year selection */\r\n  @Input() yearRange: number;\r\n  /** if true only dates from the currently displayed month will be shown */\r\n  @Input() onlyCurrentMonth: boolean;\r\n  /** if true shortcut`s event propagation will be disabled */\r\n  @Input() shortcutPropagation: boolean;\r\n  /** number of months displayed in a single row of month picker */\r\n  @Input() monthColLimit: number;\r\n  /** number of years displayed in a single row of year picker */\r\n  @Input() yearColLimit: number;\r\n  /** array of custom css classes to be applied to targeted dates */\r\n  @Input() customClass: { date: Date; mode: string; clazz: string }[];\r\n  /** array of disabled dates */\r\n  @Input() dateDisabled: { date: Date; mode: string }[];\r\n  /** disabled days of the week from 0-6 (0=Sunday, ..., 6=Saturday) */\r\n  @Input() dayDisabled: number[];\r\n\r\n  /** currently active date */\r\n  @Input()\r\n  get activeDate(): Date {\r\n    return this._activeDate || this._now;\r\n  }\r\n\r\n  set activeDate(value: Date) {\r\n    this._activeDate = value;\r\n  }\r\n\r\n  @Output()\r\n  selectionDone: EventEmitter<Date> = new EventEmitter<Date>(undefined);\r\n\r\n  /** callback to invoke when the activeDate is changed. */\r\n  @Output()\r\n  activeDateChange: EventEmitter<Date> = new EventEmitter<Date>(\r\n    undefined\r\n  );\r\n\r\n  @ViewChild(DatePickerInnerComponent, { static: true })\r\n  _datePicker: DatePickerInnerComponent;\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  onChange: any = Function.prototype;\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  onTouched: any = Function.prototype;\r\n\r\n  config: DatepickerConfig;\r\n\r\n  protected _now: Date = new Date();\r\n  protected _activeDate: Date;\r\n\r\n  constructor(config: DatepickerConfig) {\r\n    this.config = config;\r\n    this.configureOptions();\r\n  }\r\n\r\n  configureOptions(): void {\r\n    Object.assign(this, this.config);\r\n  }\r\n\r\n  onUpdate(event: Date): void {\r\n    this.activeDate = event;\r\n    this.onChange(event);\r\n  }\r\n\r\n  onSelectionDone(event: Date): void {\r\n    this.selectionDone.emit(event);\r\n  }\r\n\r\n  onActiveDateChange(event: Date): void {\r\n    this.activeDateChange.emit(event);\r\n  }\r\n  // todo: support null value\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  writeValue(value: any): void {\r\n    if (this._datePicker.compare(value, this._activeDate) === 0) {\r\n      return;\r\n    }\r\n    if (value && value instanceof Date) {\r\n      this.activeDate = value;\r\n      this._datePicker.select(value, false);\r\n\r\n      return;\r\n    }\r\n\r\n    this.activeDate = value ? new Date(value) : void 0;\r\n  }\r\n\r\n  registerOnChange(fn: () => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\r\nimport { PositioningService } from 'ngx-bootstrap/positioning';\r\n\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\n\r\nimport { BsDatepickerInputDirective } from './bs-datepicker-input.directive';\r\nimport { BsDatepickerDirective } from './bs-datepicker.component';\r\nimport { BsDaterangepickerInputDirective } from './bs-daterangepicker-input.directive';\r\nimport { BsDaterangepickerDirective } from './bs-daterangepicker.component';\r\n\r\nimport { BsDatepickerInlineDirective } from './bs-datepicker-inline.component';\r\n\r\nimport { BsLocaleService } from './bs-locale.service';\r\nimport { BsDatepickerActions } from './reducer/bs-datepicker.actions';\r\nimport { BsDatepickerEffects } from './reducer/bs-datepicker.effects';\r\nimport { BsDatepickerStore } from './reducer/bs-datepicker.store';\r\nimport { BsDatepickerContainerComponent } from './themes/bs/bs-datepicker-container.component';\r\nimport { BsDaterangepickerContainerComponent } from './themes/bs/bs-daterangepicker-container.component';\r\n\r\nimport { BsDatepickerInlineContainerComponent } from './themes/bs/bs-datepicker-inline-container.component';\r\nimport { BsDaterangepickerInlineContainerComponent } from './themes/bs/bs-daterangepicker-inline-container.component';\r\n\r\nimport { BsDaterangepickerInlineDirective } from './bs-daterangepicker-inline.component';\r\n\r\nimport { BsCalendarLayoutComponent } from './themes/bs/bs-calendar-layout.component';\r\nimport { BsCurrentDateViewComponent } from './themes/bs/bs-current-date-view.component';\r\nimport { BsCustomDatesViewComponent } from './themes/bs/bs-custom-dates-view.component';\r\nimport { BsDatepickerDayDecoratorComponent } from './themes/bs/bs-datepicker-day-decorator.directive';\r\nimport { BsDatepickerNavigationViewComponent } from './themes/bs/bs-datepicker-navigation-view.component';\r\nimport { BsDaysCalendarViewComponent } from './themes/bs/bs-days-calendar-view.component';\r\nimport { BsMonthCalendarViewComponent } from './themes/bs/bs-months-calendar-view.component';\r\nimport { BsTimepickerViewComponent } from './themes/bs/bs-timepicker-view.component';\r\nimport { BsYearsCalendarViewComponent } from './themes/bs/bs-years-calendar-view.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, TooltipModule],\r\n  declarations: [\r\n    BsCalendarLayoutComponent,\r\n    BsCurrentDateViewComponent,\r\n    BsCustomDatesViewComponent,\r\n    BsDatepickerDayDecoratorComponent,\r\n    BsDatepickerNavigationViewComponent,\r\n    BsDaysCalendarViewComponent,\r\n    BsMonthCalendarViewComponent,\r\n    BsTimepickerViewComponent,\r\n    BsYearsCalendarViewComponent,\r\n    BsDatepickerContainerComponent,\r\n    BsDatepickerDirective,\r\n    BsDatepickerInlineContainerComponent,\r\n    BsDatepickerInlineDirective,\r\n    BsDatepickerInputDirective,\r\n    BsDaterangepickerContainerComponent,\r\n    BsDaterangepickerDirective,\r\n    BsDaterangepickerInlineContainerComponent,\r\n    BsDaterangepickerInlineDirective,\r\n    BsDaterangepickerInputDirective\r\n  ],\r\n  entryComponents: [\r\n    BsDatepickerContainerComponent,\r\n    BsDaterangepickerContainerComponent,\r\n    BsDatepickerInlineContainerComponent,\r\n    BsDaterangepickerInlineContainerComponent\r\n  ],\r\n  exports: [\r\n    BsDatepickerContainerComponent,\r\n    BsDatepickerDirective,\r\n    BsDatepickerInlineContainerComponent,\r\n    BsDatepickerInlineDirective,\r\n    BsDatepickerInputDirective,\r\n    BsDaterangepickerContainerComponent,\r\n    BsDaterangepickerDirective,\r\n    BsDaterangepickerInlineContainerComponent,\r\n    BsDaterangepickerInlineDirective,\r\n    BsDaterangepickerInputDirective\r\n  ]\r\n})\r\nexport class BsDatepickerModule {\r\n  static forRoot(): ModuleWithProviders<BsDatepickerModule> {\r\n    return {\r\n      ngModule: BsDatepickerModule,\r\n      providers: [\r\n        ComponentLoaderFactory,\r\n        PositioningService,\r\n        BsDatepickerStore,\r\n        BsDatepickerActions,\r\n        BsDatepickerEffects,\r\n        BsLocaleService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\r\nimport { DatePickerComponent } from './datepicker.component';\r\nimport { DatepickerConfig } from './datepicker.config';\r\nimport { DayPickerComponent } from './daypicker.component';\r\nimport { MonthPickerComponent } from './monthpicker.component';\r\nimport { YearPickerComponent } from './yearpicker.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule],\r\n  declarations: [\r\n    DatePickerComponent,\r\n    DatePickerInnerComponent,\r\n    DayPickerComponent,\r\n    MonthPickerComponent,\r\n    YearPickerComponent\r\n  ],\r\n  exports: [\r\n    DatePickerComponent,\r\n    DatePickerInnerComponent,\r\n    DayPickerComponent,\r\n    MonthPickerComponent,\r\n    YearPickerComponent\r\n  ],\r\n  entryComponents: [DatePickerComponent]\r\n})\r\nexport class DatepickerModule {\r\n  static forRoot(): ModuleWithProviders<DatepickerModule> {\r\n    return { ngModule: DatepickerModule, providers: [DatepickerConfig] };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["height","width","shift","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵelement","i0.ɵɵproperty","i0.ɵɵtextInterpolate1","i0.ɵɵtemplate","i0.ɵɵprojection","i0.ɵɵelementContainerStart","i0.ɵɵlistener","i0.ɵɵelementContainerEnd","i0.ɵɵstyleProp","i0.ɵɵclassProp","i0.ɵɵpropertyInterpolate","i0.ɵɵclassMapInterpolate1","i0.ɵɵattribute"],"mappings":"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"}