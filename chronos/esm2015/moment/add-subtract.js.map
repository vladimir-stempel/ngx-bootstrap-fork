{"version":3,"file":"add-subtract.js","sourceRoot":"","sources":["../../../../../src/chronos/moment/add-subtract.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,oBAAoB,CAAC;AACpD,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAE9C,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AACnE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AACnE,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAG5C,MAAM,UAAU,GAAG,CAAC,IAAU,EAAE,GAAW,EAAE,MAAkB,EAAE,KAAe;IAC9E,MAAM,GAAG,GAAG,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAExC,OAAO,WAAW,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;AAC1C,CAAC;AAED,MAAM,UAAU,QAAQ,CAAC,IAAU,EAAE,GAAW,EAAE,MAAkB,EAAE,KAAe;IACnF,MAAM,GAAG,GAAG,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAExC,OAAO,WAAW,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AAC3C,CAAC;AAED,MAAM,UAAU,WAAW,CAAC,IAAU,EAAE,QAAkB,EAAE,QAAgB,EAAE,KAAe;IAC3F,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC;IAC5C,MAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACtC,MAAM,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAE1C,8BAA8B;IAC9B,oEAAoE;IAEpE,IAAI,MAAM,EAAE;QACV,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,MAAM,GAAG,QAAQ,EAAE,KAAK,CAAC,CAAC;KAClE;IACD,IAAI,IAAI,EAAE;QACR,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,IAAI,GAAG,QAAQ,EAAE,KAAK,CAAC,CAAC;KAC9D;IACD,IAAI,YAAY,EAAE;QAChB,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,GAAG,YAAY,GAAG,QAAQ,CAAC,CAAC;KACxD;IAED,OAAO,SAAS,CAAC,IAAI,CAAC,CAAC;IACvB,8BAA8B;IAC9B,uBAAuB;IACvB,8CAA8C;IAC9C,IAAI;AACN,CAAC","sourcesContent":["import { createDuration } from '../duration/create';\r\nimport { absRound } from '../utils/abs-round';\r\nimport { Duration } from '../duration/constructor';\r\nimport { getDate, getMonth, getTime } from '../utils/date-getters';\r\nimport { setDate, setMonth, setTime } from '../utils/date-setters';\r\nimport { cloneDate } from '../create/clone';\r\nimport { UnitOfTime } from '../types';\r\n\r\nexport function add(date: Date, val: number, period: UnitOfTime, isUTC?: boolean): Date {\r\n  const dur = createDuration(val, period);\r\n\r\n  return addSubtract(date, dur, 1, isUTC);\r\n}\r\n\r\nexport function subtract(date: Date, val: number, period: UnitOfTime, isUTC?: boolean): Date {\r\n  const dur = createDuration(val, period);\r\n\r\n  return addSubtract(date, dur, -1, isUTC);\r\n}\r\n\r\nexport function addSubtract(date: Date, duration: Duration, isAdding: number, isUTC?: boolean): Date {\r\n  const milliseconds = duration._milliseconds;\r\n  const days = absRound(duration._days);\r\n  const months = absRound(duration._months);\r\n\r\n  // todo: add timezones support\r\n  // const _updateOffset = updateOffset == null ? true : updateOffset;\r\n\r\n  if (months) {\r\n    setMonth(date, getMonth(date, isUTC) + months * isAdding, isUTC);\r\n  }\r\n  if (days) {\r\n    setDate(date, getDate(date, isUTC) + days * isAdding, isUTC);\r\n  }\r\n  if (milliseconds) {\r\n    setTime(date, getTime(date) + milliseconds * isAdding);\r\n  }\r\n\r\n  return cloneDate(date);\r\n  // todo: add timezones support\r\n  // if (_updateOffset) {\r\n  //   hooks.updateOffset(date, days || months);\r\n  // }\r\n}\r\n"]}