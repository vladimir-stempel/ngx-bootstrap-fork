{"version":3,"file":"format.js","sourceRoot":"","sources":["../../../../src/chronos/format.ts"],"names":[],"mappings":"AAAA,YAAY;AACZ,mBAAmB;AACnB,6DAA6D;AAC7D,gBAAgB;AAChB,eAAe;AAEf,OAAO,eAAe,CAAC;AACvB,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC;AAEtE,OAAO,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAC7C,OAAO,EAAE,WAAW,EAAE,MAAM,qBAAqB,CAAC;AAElD,MAAM,UAAU,UAAU,CAAC,IAAU,EAAE,MAAc,EAAE,MAAe,EAAE,KAAe,EAAE,MAAM,GAAG,CAAC;IACjG,MAAM,OAAO,GAAG,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC;IAC1C,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,IAAI,KAAK,CACb,WAAW,MAAM,0DAA0D,CAC5E,CAAC;KACH;IAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,CAAC,CAAE,wBAAwB,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC;IAEvF,MAAM,MAAM,GAAG,YAAY,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAEnE,IAAI,CAAC,MAAM,EAAE;QACX,OAAO,MAAM,CAAC;KACf;IAED,OAAO,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AACpC,CAAC;AAED,uCAAuC;AACvC,MAAM,UAAU,YAAY,CAAC,IAAU,EAAE,OAAe,EAAE,MAAc,EAAE,KAAe,EAAE,MAAM,GAAG,CAAC;IACnG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;QACtB,OAAO,MAAM,CAAC,WAAW,CAAC;KAC3B;IAED,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7C,eAAe,CAAC,MAAM,CAAC,GAAG,eAAe,CAAC,MAAM,CAAC,IAAI,kBAAkB,CAAC,MAAM,CAAC,CAAC;IAEhF,OAAO,eAAe,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;AAC9D,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,OAAe,EAAE,MAAc;IAC1D,IAAI,MAAM,GAAG,OAAO,CAAC;IACrB,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,MAAM,qBAAqB,GAAG,4CAA4C,CAAC;IAE3E,MAAM,2BAA2B,GAAG,CAAC,KAAU,EAAE,EAAE;QACjD,OAAO,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC;IAC/C,CAAC,CAAC;IAEF,qBAAqB,CAAC,SAAS,GAAG,CAAC,CAAC;IACpC,OAAO,CAAC,IAAI,CAAC,IAAI,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;QACnD,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,qBAAqB,EAAE,2BAA2B,CAAC,CAAC;QAC5E,qBAAqB,CAAC,SAAS,GAAG,CAAC,CAAC;QACpC,CAAC,IAAI,CAAC,CAAC;KACR;IAED,OAAO,MAAM,CAAC;AAChB,CAAC","sourcesContent":["// moment.js\r\n// version : 2.18.1\r\n// authors : Tim Wood, Iskren Chernev, Moment.js contributors\r\n// license : MIT\r\n// momentjs.com\r\n\r\nimport './units/index';\r\nimport { formatFunctions, makeFormatFunction } from './format/format';\r\nimport { Locale } from './locale/locale.class';\r\nimport { getLocale } from './locale/locales';\r\nimport { isDateValid } from './utils/type-checks';\r\n\r\nexport function formatDate(date: Date, format: string, locale?: string, isUTC?: boolean, offset = 0): string {\r\n  const _locale = getLocale(locale || 'en');\r\n  if (!_locale) {\r\n    throw new Error(\r\n      `Locale \"${locale}\" is not defined, please add it with \"defineLocale(...)\"`\r\n    );\r\n  }\r\n\r\n  const _format = format || (isUTC ?  'YYYY-MM-DDTHH:mm:ss[Z]' : 'YYYY-MM-DDTHH:mm:ssZ');\r\n\r\n  const output = formatMoment(date, _format, _locale, isUTC, offset);\r\n\r\n  if (!output) {\r\n    return output;\r\n  }\r\n\r\n  return _locale.postformat(output);\r\n}\r\n\r\n// format date using native date object\r\nexport function formatMoment(date: Date, _format: string, locale: Locale, isUTC?: boolean, offset = 0): string {\r\n  if (!isDateValid(date)) {\r\n    return locale.invalidDate;\r\n  }\r\n\r\n  const format = expandFormat(_format, locale);\r\n  formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\r\n\r\n  return formatFunctions[format](date, locale, isUTC, offset);\r\n}\r\n\r\nexport function expandFormat(_format: string, locale: Locale): string {\r\n  let format = _format;\r\n  let i = 5;\r\n  const localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\r\n\r\n  const replaceLongDateFormatTokens = (input: any) => {\r\n    return locale.formatLongDate(input) || input;\r\n  };\r\n\r\n  localFormattingTokens.lastIndex = 0;\r\n  while (i >= 0 && localFormattingTokens.test(format)) {\r\n    format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\r\n    localFormattingTokens.lastIndex = 0;\r\n    i -= 1;\r\n  }\r\n\r\n  return format;\r\n}\r\n"]}