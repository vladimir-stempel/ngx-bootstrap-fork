{"version":3,"file":"token.js","sourceRoot":"","sources":["../../../../../src/chronos/parse/token.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAIlG,MAAM,MAAM,GAAsC,EAAE,CAAC;AAErD,MAAM,UAAU,aAAa,CAAC,KAAwB,EAAE,QAAmC;IACzF,MAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IACjD,IAAI,IAAI,GAAG,QAAQ,CAAC;IAEpB,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE;QACtB,IAAI,GAAG,UAAU,KAAa,EAAE,KAAgB,EAAE,MAAyB;YACzE,KAAK,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;YAE/B,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC;KACH;IAED,IAAI,OAAO,CAAS,MAAM,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE;QAC/C,IAAI,CAAC,CAAC;QACN,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;SAC1B;KACF;AACH,CAAC;AAED,MAAM,UAAU,iBAAiB,CAAC,KAAe,EAAE,QAA0B;IAC3E,aAAa,CAAC,KAAK,EAAE,UAAU,KAAa,EAAE,KAAgB,EAAE,MAAyB,EAAE,MAAc;QACvG,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC;QAE5B,OAAO,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;AACL,CAAC;AAGD,MAAM,UAAU,uBAAuB,CAAC,KAAa,EAAE,KAAa,EAAE,MAAyB;IAC7F,IAAI,KAAK,IAAI,IAAI,IAAI,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE;QAC9C,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;KAChD;IAED,OAAO,MAAM,CAAC;AAChB,CAAC","sourcesContent":["import { hasOwnProp, isArray, isFunction, isNumber, isString, toInt } from '../utils/type-checks';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { DateArray, DateParseTokenFn } from '../types';\r\n\r\nconst tokens: {[key: string]: DateParseTokenFn} = {};\r\n\r\nexport function addParseToken(token: string | string[], callback: DateParseTokenFn | number) {\r\n  const _token = isString(token) ? [token] : token;\r\n  let func = callback;\r\n\r\n  if (isNumber(callback)) {\r\n    func = function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n      array[callback] = toInt(input);\r\n\r\n      return config;\r\n    };\r\n  }\r\n\r\n  if (isArray<string>(_token) && isFunction(func)) {\r\n    let i;\r\n    for (i = 0; i < _token.length; i++) {\r\n      tokens[_token[i]] = func;\r\n    }\r\n  }\r\n}\r\n\r\nexport function addWeekParseToken(token: string[], callback: DateParseTokenFn): void {\r\n  addParseToken(token, function (input: string, array: DateArray, config: DateParsingConfig, _token: string): DateParsingConfig {\r\n    config._w = config._w || {};\r\n\r\n    return callback(input, config._w, config, _token);\r\n  });\r\n}\r\n\r\n\r\nexport function addTimeToArrayFromToken(token: string, input: string, config: DateParsingConfig): DateParsingConfig {\r\n  if (input != null && hasOwnProp(tokens, token)) {\r\n    tokens[token](input, config._a, config, token);\r\n  }\r\n\r\n  return config;\r\n}\r\n"]}