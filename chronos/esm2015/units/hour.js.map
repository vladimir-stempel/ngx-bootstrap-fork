{"version":3,"file":"hour.js","sourceRoot":"","sources":["../../../../../src/chronos/units/hour.ts"],"names":[],"mappings":"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","sourcesContent":["import { getHours, getMinutes, getSeconds } from '../utils/date-getters';\r\nimport { addFormatToken } from '../format/format';\r\nimport { zeroFill } from '../utils/zero-fill';\r\nimport { Locale } from '../locale/locale.class';\r\nimport { addRegexToken, match1to2, match2, match3to4, match5to6 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { HOUR, MINUTE, SECOND } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { getParsingFlags } from '../create/parsing-flags';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\n\r\n\r\nexport function initHour() {\r\n// FORMATTING\r\n\r\n  function hFormat(date: Date, isUTC: boolean): number {\r\n    return getHours(date, isUTC) % 12 || 12;\r\n  }\r\n\r\n  function kFormat(date: Date, isUTC: boolean): number {\r\n    return getHours(date, isUTC) || 24;\r\n  }\r\n\r\n  addFormatToken('H', ['HH', 2, false], null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      return getHours(date, opts.isUTC)\r\n        .toString(10);\r\n    }\r\n  );\r\n  addFormatToken('h', ['hh', 2, false], null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      return hFormat(date, opts.isUTC)\r\n        .toString(10);\r\n    }\r\n  );\r\n  addFormatToken('k', ['kk', 2, false], null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      return kFormat(date, opts.isUTC)\r\n        .toString(10);\r\n    }\r\n  );\r\n\r\n  addFormatToken('hmm', null, null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      const _h = hFormat(date, opts.isUTC);\r\n      const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n\r\n      return `${_h}${_mm}`;\r\n    }\r\n  );\r\n\r\n  addFormatToken('hmmss', null, null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      const _h = hFormat(date, opts.isUTC);\r\n      const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n      const _ss = zeroFill(getSeconds(date, opts.isUTC), 2);\r\n\r\n      return `${_h}${_mm}${_ss}`;\r\n    }\r\n  );\r\n\r\n  addFormatToken('Hmm', null, null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      const _H = getHours(date, opts.isUTC);\r\n      const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n\r\n      return `${_H}${_mm}`;\r\n    }\r\n  );\r\n\r\n  addFormatToken('Hmmss', null, null,\r\n    function(date: Date, opts: DateFormatterOptions): string {\r\n      const _H = getHours(date, opts.isUTC);\r\n      const _mm = zeroFill(getMinutes(date, opts.isUTC), 2);\r\n      const _ss = zeroFill(getSeconds(date, opts.isUTC), 2);\r\n\r\n      return `${_H}${_mm}${_ss}`;\r\n    }\r\n  );\r\n\r\n  function meridiem(token: string, lowercase: boolean): void {\r\n    addFormatToken(token, null, null,\r\n      function(date: Date, opts: DateFormatterOptions): string {\r\n        return opts.locale.meridiem(getHours(date, opts.isUTC), getMinutes(date, opts.isUTC), lowercase);\r\n      }\r\n    );\r\n  }\r\n\r\n  meridiem('a', true);\r\n  meridiem('A', false);\r\n\r\n// ALIASES\r\n\r\n  addUnitAlias('hour', 'h');\r\n\r\n// PRIORITY\r\n  addUnitPriority('hour', 13);\r\n\r\n\r\n// PARSING\r\n\r\n  function matchMeridiem(isStrict: boolean, locale: Locale): RegExp {\r\n    return locale._meridiemParse;\r\n  }\r\n\r\n  addRegexToken('a', matchMeridiem);\r\n  addRegexToken('A', matchMeridiem);\r\n  addRegexToken('H', match1to2);\r\n  addRegexToken('h', match1to2);\r\n  addRegexToken('k', match1to2);\r\n  addRegexToken('HH', match1to2, match2);\r\n  addRegexToken('hh', match1to2, match2);\r\n  addRegexToken('kk', match1to2, match2);\r\n\r\n  addRegexToken('hmm', match3to4);\r\n  addRegexToken('hmmss', match5to6);\r\n  addRegexToken('Hmm', match3to4);\r\n  addRegexToken('Hmmss', match5to6);\r\n\r\n  addParseToken(['H', 'HH'], HOUR);\r\n  addParseToken(\r\n    ['k', 'kk'],\r\n    function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n      const kInput = toInt(input);\r\n      array[HOUR] = kInput === 24 ? 0 : kInput;\r\n\r\n      return config;\r\n    }\r\n  );\r\n  addParseToken(['a', 'A'], function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    config._isPm = config._locale.isPM(input);\r\n    config._meridiem = input;\r\n\r\n    return config;\r\n  });\r\n  addParseToken(['h', 'hh'], function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    array[HOUR] = toInt(input);\r\n    getParsingFlags(config).bigHour = true;\r\n\r\n    return config;\r\n  });\r\n  addParseToken('hmm', function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    const pos = input.length - 2;\r\n    array[HOUR] = toInt(input.substr(0, pos));\r\n    array[MINUTE] = toInt(input.substr(pos));\r\n    getParsingFlags(config).bigHour = true;\r\n\r\n    return config;\r\n  });\r\n  addParseToken('hmmss', function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    const pos1 = input.length - 4;\r\n    const pos2 = input.length - 2;\r\n    array[HOUR] = toInt(input.substr(0, pos1));\r\n    array[MINUTE] = toInt(input.substr(pos1, 2));\r\n    array[SECOND] = toInt(input.substr(pos2));\r\n    getParsingFlags(config).bigHour = true;\r\n\r\n    return config;\r\n  });\r\n  addParseToken('Hmm', function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    const pos = input.length - 2;\r\n    array[HOUR] = toInt(input.substr(0, pos));\r\n    array[MINUTE] = toInt(input.substr(pos));\r\n\r\n    return config;\r\n  });\r\n  addParseToken('Hmmss', function(input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    const pos1 = input.length - 4;\r\n    const pos2 = input.length - 2;\r\n    array[HOUR] = toInt(input.substr(0, pos1));\r\n    array[MINUTE] = toInt(input.substr(pos1, 2));\r\n    array[SECOND] = toInt(input.substr(pos2));\r\n\r\n    return config;\r\n  });\r\n\r\n}\r\n"]}