{"version":3,"file":"year.js","sourceRoot":"","sources":["../../../../../src/chronos/units/year.ts"],"names":[],"mappings":"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","sourcesContent":["import { addFormatToken } from '../format/format';\r\nimport { getFullYear } from '../utils/date-getters';\r\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { YEAR } from './constants';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { DateFormatterOptions } from '../types';\r\n\r\n// FORMATTING\r\n\r\nfunction getYear(date: Date, opts: DateFormatterOptions): string {\r\n  if (opts.locale.getFullYear) {\r\n    return opts.locale.getFullYear(date, opts.isUTC).toString();\r\n  }\r\n  return getFullYear(date, opts.isUTC).toString();\r\n}\r\n\r\nexport function initYear() {\r\n  addFormatToken('Y', null, null,\r\n    function (date: Date, opts: DateFormatterOptions): string {\r\n    const y = getFullYear(date, opts.isUTC);\r\n\r\n    return y <= 9999 ? y.toString(10) : `+${y}`;\r\n  });\r\n\r\n  addFormatToken(null, ['YY', 2, false], null,\r\n    function (date: Date, opts: DateFormatterOptions): string {\r\n    return (getFullYear(date, opts.isUTC) % 100).toString(10);\r\n  });\r\n\r\n  addFormatToken(null, ['YYYY', 4, false], null, getYear);\r\n  addFormatToken(null, ['YYYYY', 5, false], null, getYear);\r\n  addFormatToken(null, ['YYYYYY', 6, true], null, getYear);\r\n\r\n  // ALIASES\r\n\r\n  addUnitAlias('year', 'y');\r\n\r\n  // PRIORITIES\r\n\r\n  addUnitPriority('year', 1);\r\n\r\n  // PARSING\r\n\r\n  addRegexToken('Y', matchSigned);\r\n  addRegexToken('YY', match1to2, match2);\r\n  addRegexToken('YYYY', match1to4, match4);\r\n  addRegexToken('YYYYY', match1to6, match6);\r\n  addRegexToken('YYYYYY', match1to6, match6);\r\n\r\n  addParseToken(['YYYYY', 'YYYYYY'], YEAR);\r\n  addParseToken('YYYY', function (input, array, config) {\r\n    array[YEAR] = input.length === 2 ? parseTwoDigitYear(input) : toInt(input);\r\n\r\n    return config;\r\n  });\r\n  addParseToken('YY', function (input, array, config) {\r\n    array[YEAR] = parseTwoDigitYear(input);\r\n\r\n    return config;\r\n  });\r\n  addParseToken('Y', function (input, array, config) {\r\n    array[YEAR] = parseInt(input, 10);\r\n\r\n    return config;\r\n  });\r\n}\r\n\r\nexport function parseTwoDigitYear(input: string): number {\r\n  return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\r\n}\r\n\r\nexport function daysInYear(year: number): number {\r\n  return isLeapYear(year) ? 366 : 365;\r\n}\r\n\r\nexport function isLeapYear(year: number): boolean {\r\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n}\r\n"]}