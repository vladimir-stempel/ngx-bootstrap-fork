{"version":3,"file":"start-end-of.js","sourceRoot":"","sources":["../../../../../src/chronos/utils/start-end-of.ts"],"names":[],"mappings":"AACA,OAAO,EACL,OAAO,EAAe,QAAQ,EAAE,eAAe,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAElF,MAAM,gBAAgB,CAAC;AACxB,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;AAC3E,OAAO,EAAE,QAAQ,EAAE,MAAM,gBAAgB,CAAC;AAC1C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAEvD,MAAM,UAAU,OAAO,CAAC,IAAU,EAAE,IAAgB,EAAE,KAAe;IACnE,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IAC9B,0DAA0D;IAC1D,wCAAwC;IACxC,QAAQ,IAAI,EAAE;QACZ,KAAK,MAAM;YACT,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QAC5B,mBAAmB;QACnB,KAAK,SAAS,CAAC;QACf,KAAK,OAAO;YACV,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3B,mBAAmB;QACnB,KAAK,MAAM,CAAC;QACZ,KAAK,SAAS,CAAC;QACf,KAAK,KAAK,CAAC;QACX,KAAK,MAAM;YACT,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QAC5B,mBAAmB;QACnB,KAAK,OAAO;YACV,UAAU,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QAC9B,mBAAmB;QACnB,KAAK,SAAS;YACZ,UAAU,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;QAC9B,mBAAmB;QACnB,KAAK,SAAS;YACZ,eAAe,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;KACpC;IAED,2BAA2B;IAC3B,IAAI,IAAI,KAAK,MAAM,EAAE;QACnB,kBAAkB,CAAC,KAAK,EAAE,CAAC,EAAE,EAAC,KAAK,EAAC,CAAC,CAAC;KACvC;IACD,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KAC3B;IAED,4BAA4B;IAC5B,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;KACpE;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED,MAAM,UAAU,KAAK,CAAC,IAAU,EAAE,IAAgB,EAAE,KAAe;IACjE,IAAI,KAAK,GAAG,IAAI,CAAC;IACjB,oEAAoE;IACpE,IAAI,KAAK,KAAK,MAAM,EAAE;QACpB,KAAK,GAAG,KAAK,CAAC;KACf;IAED,MAAM,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IAC1C,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACzE,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;IAEtD,OAAO,GAAG,CAAC;AACb,CAAC","sourcesContent":["import { TimeUnit, UnitOfTime } from '../types';\r\nimport {\r\n  setDate, setFullDate, setHours, setMilliseconds, setMinutes, setMonth, setSeconds,\r\n  shiftDate\r\n} from './date-setters';\r\nimport { cloneDate } from '../create/clone';\r\nimport { setISODayOfWeek, setLocaleDayOfWeek } from '../units/day-of-week';\r\nimport { getMonth } from './date-getters';\r\nimport { add, subtract } from '../moment/add-subtract';\r\n\r\nexport function startOf(date: Date, unit: UnitOfTime, isUTC?: boolean): Date {\r\n  const _date = cloneDate(date);\r\n  // the following switch intentionally omits break keywords\r\n  // to utilize falling through the cases.\r\n  switch (unit) {\r\n    case 'year':\r\n      setMonth(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'quarter':\r\n    case 'month':\r\n      setDate(_date, 1, isUTC);\r\n    /* falls through */\r\n    case 'week':\r\n    case 'isoWeek':\r\n    case 'day':\r\n    case 'date':\r\n      setHours(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'hours':\r\n      setMinutes(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'minutes':\r\n      setSeconds(_date, 0, isUTC);\r\n    /* falls through */\r\n    case 'seconds':\r\n      setMilliseconds(_date, 0, isUTC);\r\n  }\r\n\r\n  // weeks are a special case\r\n  if (unit === 'week') {\r\n    setLocaleDayOfWeek(_date, 0, {isUTC});\r\n  }\r\n  if (unit === 'isoWeek') {\r\n    setISODayOfWeek(_date, 1);\r\n  }\r\n\r\n  // quarters are also special\r\n  if (unit === 'quarter') {\r\n    setMonth(_date, Math.floor(getMonth(_date, isUTC) / 3) * 3, isUTC);\r\n  }\r\n\r\n  return _date;\r\n}\r\n\r\nexport function endOf(date: Date, unit: UnitOfTime, isUTC?: boolean): Date {\r\n  let _unit = unit;\r\n  // 'date' is an alias for 'day', so it should be considered as such.\r\n  if (_unit === 'date') {\r\n    _unit = 'day';\r\n  }\r\n\r\n  const start = startOf(date, _unit, isUTC);\r\n  const _step = add(start, 1, _unit === 'isoWeek' ? 'week' : _unit, isUTC);\r\n  const res = subtract(_step, 1, 'milliseconds', isUTC);\r\n\r\n  return res;\r\n}\r\n"]}