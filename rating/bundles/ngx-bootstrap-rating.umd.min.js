!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-bootstrap/rating",["exports","@angular/core","@angular/forms","@angular/common"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-bootstrap"]=e["ngx-bootstrap"]||{},e["ngx-bootstrap"].rating={}),e.ng.core,e.ng.forms,e.ng.common)}(this,(function(e,t,n,o){"use strict";var r=function(){this.ariaLabel="rating"};function i(e,n){if(1&e&&t.ɵɵtext(0),2&e){var o=n.value,r=n.index;t.ɵɵtextInterpolate(r<o?"★":"☆")}}function a(e,t){}r.ɵfac=function(e){return new(e||r)},r.ɵprov=t.ɵɵdefineInjectable({token:r,factory:r.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(r,[{type:t.Injectable,args:[{providedIn:"root"}]}],null,null);var u=function(e,t){return{index:e,value:t}};function s(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"span",3),t.ɵɵtext(1),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"span",4),t.ɵɵlistener("mouseenter",(function(){t.ɵɵrestoreView(o);var e=n.index;return t.ɵɵnextContext().enter(e+1)}))("click",(function(){t.ɵɵrestoreView(o);var e=n.index;return t.ɵɵnextContext().rate(e+1)})),t.ɵɵtemplate(3,a,0,0,"ng-template",5),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index,s=t.ɵɵnextContext(),l=t.ɵɵreference(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",i<s.value?"*":" ",")"),t.ɵɵadvance(1),t.ɵɵstyleProp("cursor",s.readonly?"default":"pointer"),t.ɵɵclassProp("active",i<s.value),t.ɵɵproperty("title",r.title),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",s.customTemplate||l)("ngTemplateOutletContext",t.ɵɵpureFunction2(8,u,i,s.value))}}var l={provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return p})),multi:!0},p=function(){function e(e,n){this.changeDetection=e,this.max=5,this.onHover=new t.EventEmitter,this.onLeave=new t.EventEmitter,this.onChange=Function.prototype,this.onTouched=Function.prototype,Object.assign(this,n)}return e.prototype.onKeydown=function(e){if(-1!==[37,38,39,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=38===e.which||39===e.which?1:-1;this.rate(this.value+t)}},e.prototype.ngOnInit=function(){this.max=void 0!==this.max?this.max:5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)},e.prototype.writeValue=function(e){if(e%1!==e)return this.value=Math.round(e),this.preValue=e,void this.changeDetection.markForCheck();this.preValue=e,this.value=e,this.changeDetection.markForCheck()},e.prototype.enter=function(e){this.readonly||(this.value=e,this.changeDetection.markForCheck(),this.onHover.emit(e))},e.prototype.reset=function(){this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.rate=function(e){!this.readonly&&e>=0&&e<=this.range.length&&(this.writeValue(e),this.onChange(e))},e.prototype.buildTemplateObjects=function(e){for(var t=[],n=0;n<e;n++)t.push({index:n,title:this.titles[n]||n+1});return t},e}();p.ɵfac=function(e){return new(e||p)(t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(r))},p.ɵcmp=t.ɵɵdefineComponent({type:p,selectors:[["rating"]],hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n.onKeydown(e)}))},inputs:{max:"max",readonly:"readonly",titles:"titles",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[t.ɵɵProvidersFeature([l])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"span",0),t.ɵɵlistener("mouseleave",(function(){return n.reset()}))("keydown",(function(e){return n.onKeydown(e)})),t.ɵɵtemplate(1,i,1,1,"ng-template",null,1,t.ɵɵtemplateRefExtractor),t.ɵɵtemplate(3,s,4,11,"ng-template",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵattribute("aria-label",n.ariaLabel)("aria-valuemax",n.range.length)("aria-valuenow",n.value),t.ɵɵadvance(3),t.ɵɵproperty("ngForOf",n.range))},directives:[o.NgForOf,o.NgTemplateOutlet],encapsulation:2,changeDetection:0}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(p,[{type:t.Component,args:[{selector:"rating",templateUrl:"./rating.component.html",providers:[l],changeDetection:t.ChangeDetectionStrategy.OnPush}]}],(function(){return[{type:t.ChangeDetectorRef},{type:r}]}),{max:[{type:t.Input}],readonly:[{type:t.Input}],titles:[{type:t.Input}],customTemplate:[{type:t.Input}],onHover:[{type:t.Output}],onLeave:[{type:t.Output}],onKeydown:[{type:t.HostListener,args:["keydown",["$event"]]}]});var c=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}();c.ɵmod=t.ɵɵdefineNgModule({type:c}),c.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||c)},imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(c,{declarations:[p],imports:[o.CommonModule],exports:[p]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(c,[{type:t.NgModule,args:[{imports:[o.CommonModule],declarations:[p],exports:[p]}]}],null,null),e.RatingComponent=p,e.RatingConfig=r,e.RatingModule=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-bootstrap-rating.umd.min.js.map